<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pandas 教程 | wildfire - 腿哥AI站</title>
    <meta name="description" content="站点描述">
    <meta name="generator" content="VitePress v1.0.0-rc.44">
    <link rel="preload stylesheet" href="/assets/style.Cap1xF1r.css" as="style">
    
    <script type="module" src="/assets/app.Dh040Ed9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BthLuVtL.js">
    <link rel="modulepreload" href="/assets/chunks/theme.BCQGu06h.js">
    <link rel="modulepreload" href="/assets/Python-datav_pandas.md.DXCK3Rhp.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-730d874e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f8e4fa18></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f8e4fa18> Skip to content </a><!--]--><!----><header class="VPNav" data-v-730d874e data-v-f2d5ab49><div class="VPNavBar has-sidebar" data-v-f2d5ab49 data-v-5117da3f><div class="wrapper" data-v-5117da3f><div class="container" data-v-5117da3f><div class="title" data-v-5117da3f><div class="VPNavBarTitle has-sidebar" data-v-5117da3f data-v-0aa328a5><a class="title" href="/" data-v-0aa328a5><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-3c8ddd5c><!--]--><span data-v-0aa328a5>wildfire - 腿哥AI站</span><!--[--><!--]--></a></div></div><div class="content" data-v-5117da3f><div class="content-body" data-v-5117da3f><!--[--><!--]--><div class="VPNavBarSearch search" data-v-5117da3f><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-5117da3f data-v-e668ad5e><span id="main-nav-aria-label" class="visually-hidden" data-v-e668ad5e>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e668ad5e data-v-0b4f1ce4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0b4f1ce4><span class="text" data-v-0b4f1ce4><!----><span data-v-0b4f1ce4>python</span><span class="vpi-chevron-down text-icon" data-v-0b4f1ce4></span></span></button><div class="menu" data-v-0b4f1ce4><div class="VPMenu" data-v-0b4f1ce4 data-v-ffbcfee8><div class="items" data-v-ffbcfee8><!--[--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/Python/index.html" data-v-ee903820><!--[-->python基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/Python-db/index.html" data-v-ee903820><!--[-->python数据库操作<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/Python-datav/index.html" data-v-ee903820><!--[-->python数据分析可视化<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e668ad5e data-v-0b4f1ce4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0b4f1ce4><span class="text" data-v-0b4f1ce4><!----><span data-v-0b4f1ce4>鸿蒙</span><span class="vpi-chevron-down text-icon" data-v-0b4f1ce4></span></span></button><div class="menu" data-v-0b4f1ce4><div class="VPMenu" data-v-0b4f1ce4 data-v-ffbcfee8><div class="items" data-v-ffbcfee8><!--[--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/hms.html" data-v-ee903820><!--[-->文档<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e668ad5e data-v-0b4f1ce4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0b4f1ce4><span class="text" data-v-0b4f1ce4><!----><span data-v-0b4f1ce4>全栈项目</span><span class="vpi-chevron-down text-icon" data-v-0b4f1ce4></span></span></button><div class="menu" data-v-0b4f1ce4><div class="VPMenu" data-v-0b4f1ce4 data-v-ffbcfee8><div class="items" data-v-ffbcfee8><!--[--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/python-demo/%E5%9F%BA%E4%BA%8EDjango2.2%E7%9A%84%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F.html" data-v-ee903820><!--[-->登录注册系统<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/python-demo/%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F.html" data-v-ee903820><!--[-->资产管理系统<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/python-demo/%E6%87%82%E8%BD%A6%E5%B8%9D%E5%8F%AF%E8%A7%86%E5%8C%96.html" data-v-ee903820><!--[-->懂车帝可视化<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e668ad5e data-v-0b4f1ce4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0b4f1ce4><span class="text" data-v-0b4f1ce4><!----><span data-v-0b4f1ce4>报错汇总</span><span class="vpi-chevron-down text-icon" data-v-0b4f1ce4></span></span></button><div class="menu" data-v-0b4f1ce4><div class="VPMenu" data-v-0b4f1ce4 data-v-ffbcfee8><div class="items" data-v-ffbcfee8><!--[--><!--[--><div class="VPMenuLink" data-v-ffbcfee8 data-v-ee903820><a class="VPLink link" href="/docs/bug.html" data-v-ee903820><!--[-->常见问题<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-5117da3f data-v-3e006368><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-3e006368 data-v-73aa4517 data-v-01a73279><span class="check" data-v-01a73279><span class="icon" data-v-01a73279><!--[--><span class="vpi-sun sun" data-v-73aa4517></span><span class="vpi-moon moon" data-v-73aa4517></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-5117da3f data-v-faebd6c0 data-v-2df58448><!--[--><a class="VPSocialLink no-icon" href="https://github.com/stormblinger-ai" aria-label="github" target="_blank" rel="noopener" data-v-2df58448 data-v-16775064><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-5117da3f data-v-c2ef99ff data-v-0b4f1ce4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0b4f1ce4><span class="vpi-more-horizontal icon" data-v-0b4f1ce4></span></button><div class="menu" data-v-0b4f1ce4><div class="VPMenu" data-v-0b4f1ce4 data-v-ffbcfee8><!----><!--[--><!--[--><!----><div class="group" data-v-c2ef99ff><div class="item appearance" data-v-c2ef99ff><p class="label" data-v-c2ef99ff>Appearance</p><div class="appearance-action" data-v-c2ef99ff><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-c2ef99ff data-v-73aa4517 data-v-01a73279><span class="check" data-v-01a73279><span class="icon" data-v-01a73279><!--[--><span class="vpi-sun sun" data-v-73aa4517></span><span class="vpi-moon moon" data-v-73aa4517></span><!--]--></span></span></button></div></div></div><div class="group" data-v-c2ef99ff><div class="item social-links" data-v-c2ef99ff><div class="VPSocialLinks social-links-list" data-v-c2ef99ff data-v-2df58448><!--[--><a class="VPSocialLink no-icon" href="https://github.com/stormblinger-ai" aria-label="github" target="_blank" rel="noopener" data-v-2df58448 data-v-16775064><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-5117da3f data-v-083282e1><span class="container" data-v-083282e1><span class="top" data-v-083282e1></span><span class="middle" data-v-083282e1></span><span class="bottom" data-v-083282e1></span></span></button></div></div></div></div><div class="divider" data-v-5117da3f><div class="divider-line" data-v-5117da3f></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-730d874e data-v-71c9795f><div class="container" data-v-71c9795f><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-71c9795f><span class="vpi-align-left menu-icon" data-v-71c9795f></span><span class="menu-text" data-v-71c9795f>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-71c9795f data-v-0e80814c><button data-v-0e80814c>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-730d874e data-v-50a598ae><div class="curtain" data-v-50a598ae></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-50a598ae><span class="visually-hidden" id="sidebar-aria-label" data-v-50a598ae> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-50a598ae><section class="VPSidebarItem level-0 collapsible has-active" data-v-50a598ae data-v-27ae58b8><div class="item" role="button" tabindex="0" data-v-27ae58b8><div class="indicator" data-v-27ae58b8></div><h2 class="text" data-v-27ae58b8>python数据分析基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-27ae58b8><span class="vpi-chevron-right caret-icon" data-v-27ae58b8></span></div></div><div class="items" data-v-27ae58b8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-27ae58b8 data-v-27ae58b8><div class="item" data-v-27ae58b8><div class="indicator" data-v-27ae58b8></div><a class="VPLink link link" href="/Python-datav/numpy.html" data-v-27ae58b8><!--[--><p class="text" data-v-27ae58b8>numpy教程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-27ae58b8 data-v-27ae58b8><div class="item" data-v-27ae58b8><div class="indicator" data-v-27ae58b8></div><a class="VPLink link link" href="/Python-datav/pandas.html" data-v-27ae58b8><!--[--><p class="text" data-v-27ae58b8>pandas教程</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-730d874e data-v-97a14150><div class="VPDoc has-sidebar has-aside" data-v-97a14150 data-v-532ee90d><!--[--><!--]--><div class="container" data-v-532ee90d><div class="aside" data-v-532ee90d><div class="aside-curtain" data-v-532ee90d></div><div class="aside-container" data-v-532ee90d><div class="aside-content" data-v-532ee90d><div class="VPDocAside" data-v-532ee90d data-v-3e8aba0e><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3e8aba0e data-v-e6bb35c5><div class="content" data-v-e6bb35c5><div class="outline-marker" data-v-e6bb35c5></div><div class="outline-title" role="heading" aria-level="2" data-v-e6bb35c5>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-e6bb35c5><span class="visually-hidden" id="doc-outline-aria-label" data-v-e6bb35c5> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-e6bb35c5 data-v-c98c4919><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3e8aba0e></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-532ee90d><div class="content-container" data-v-532ee90d><!--[--><!--]--><main class="main" data-v-532ee90d><div style="position:relative;" class="vp-doc _Python-datav_pandas" data-v-532ee90d><div><h1 id="pandas-教程" tabindex="-1">Pandas 教程 <a class="header-anchor" href="#pandas-教程" aria-label="Permalink to &quot;Pandas 教程&quot;">​</a></h1><p><img src="/assets/pandas.Bz-9ZzEi.png" alt="img"></p><p><strong>Pandas 是 Python 语言的一个扩展程序库，用于数据分析。</strong></p><p>Pandas 名字衍生自术语 &quot;panel data&quot;（面板数据）和 &quot;<strong>Python data analysis</strong>&quot;（Python 数据分析）。</p><p>Pandas 是一个开放源码、BSD 许可的库，提供高性能、易于使用的数据结构和数据分析工具。</p><p>Pandas 一个强大的分析结构化数据的工具集，基础是 <a href="https://www.runoob.com/numpy/numpy-tutorial.html" target="_blank" rel="noreferrer">Numpy</a>（提供高性能的矩阵运算）。</p><p>Pandas 可以从各种文件格式比如 CSV、JSON、SQL、Microsoft Excel 导入数据。</p><p>Pandas 可以对各种数据进行运算操作，比如归并、再成形、选择，还有数据清洗和数据加工特征。</p><hr><h2 id="pandas-应用" tabindex="-1">Pandas 应用 <a class="header-anchor" href="#pandas-应用" aria-label="Permalink to &quot;Pandas 应用&quot;">​</a></h2><p>Pandas 的主要数据结构是 Series （一维数据）与 DataFrame（二维数据）。</p><p>Pandas 广泛应用在学术、金融、统计学等各个数据分析领域。</p><hr><h2 id="数据结构" tabindex="-1">数据结构 <a class="header-anchor" href="#数据结构" aria-label="Permalink to &quot;数据结构&quot;">​</a></h2><p><strong><a href="https://www.runoob.com/pandas/pandas-series.html" target="_blank" rel="noreferrer">Series</a></strong> 是一种类似于一维数组的对象，它由一组数据（各种 Numpy 数据类型）以及一组与之相关的数据标签（即索引）组成。</p><p><strong>DataFrame</strong> 是一个表格型的数据结构，它含有一组有序的列，每列可以是不同的值类型（数值、字符串、布尔型值）。DataFrame 既有行索引也有列索引，它可以被看做由 Series 组成的字典（共同用一个索引）。</p><hr><h2 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h2><ul><li>Pandas 官网 <a href="https://pandas.pydata.org/" target="_blank" rel="noreferrer">https://pandas.pydata.org/</a></li><li>Pandas 源代码：<a href="https://github.com/pandas-dev/pandas" target="_blank" rel="noreferrer">https://github.com/pandas-dev/pandas</a></li></ul><h1 id="pandas-简介" tabindex="-1">Pandas 简介 <a class="header-anchor" href="#pandas-简介" aria-label="Permalink to &quot;Pandas 简介&quot;">​</a></h1><p>Pandas 是一个开源的数据分析和数据处理库，它是基于 Python 编程语言的。</p><p>Pandas 提供了易于使用的数据结构和数据分析工具，特别适用于处理结构化数据，如表格型数据（类似于Excel表格）。</p><p>Pandas 是数据科学和分析领域中常用的工具之一，它使得用户能够轻松地从各种数据源中导入数据，并对数据进行高效的操作和分析。</p><p>Pandas 主要引入了两种新的数据结构：<strong>DataFrame</strong> 和 <strong>Series</strong>。</p><ul><li><p><strong>Series</strong>： 类似于一维数组或列表，是由一组数据以及与之相关的数据标签（索引）构成。Series 可以看作是 DataFrame 中的一列，也可以是单独存在的一维数据结构。</p><p><img src="/assets/628084-20201205212241597-1156923446.DsQ1f0mG.png" alt="img"></p></li><li><p><strong>DataFrame</strong>： 类似于一个二维表格，它是 Pandas 中最重要的数据结构。DataFrame 可以看作是由多个 Series 按列排列构成的表格，它既有行索引也有列索引，因此可以方便地进行行列选择、过滤、合并等操作。</p></li></ul><p><strong>DataFrame 可视为由多个 Series 组成的数据结构：</strong></p><p><img src="/assets/pandas-DataStructure.BItbFwrK.png" alt="img"></p><p>Pandas 提供了丰富的功能，包括：</p><ul><li>数据清洗：处理缺失数据、重复数据等。</li><li>数据转换：改变数据的形状、结构或格式。</li><li>数据分析：进行统计分析、聚合、分组等。</li><li>数据可视化：通过整合 Matplotlib 和 Seaborn 等库，可以进行数据可视化。</li></ul><h2 id="pandas-应用-1" tabindex="-1">Pandas 应用 <a class="header-anchor" href="#pandas-应用-1" aria-label="Permalink to &quot;Pandas 应用&quot;">​</a></h2><p>Pandas 在数据科学和数据分析领域中具有广泛的应用，其主要优势在于能够处理和分析结构化数据。</p><p>以下是 Pandas 的一些主要应用领域：</p><ul><li><strong>数据清洗和预处理：</strong> Pandas被广泛用于清理和预处理数据，包括处理缺失值、异常值、重复值等。它提供了各种方法来使数据更适合进行进一步的分析。</li><li><strong>数据分析和统计：</strong> Pandas使数据分析变得更加简单，通过DataFrame和Series的灵活操作，用户可以轻松地进行统计分析、汇总、聚合等操作。从均值、中位数到标准差和相关性分析，Pandas都提供了丰富的功能。</li><li><strong>数据可视化：</strong> 将Pandas与Matplotlib、Seaborn等数据可视化库结合使用，可以创建各种图表和图形，从而更直观地理解数据分布和趋势。这对于数据科学家、分析师和决策者来说都是关键的。</li><li><strong>时间序列分析：</strong> Pandas在处理时间序列数据方面表现出色，支持对日期和时间进行高效操作。这对于金融领域、生产领域以及其他需要处理时间序列的行业尤为重要。</li><li><strong>机器学习和数据建模：</strong> 在机器学习中，数据预处理是非常关键的一步，而Pandas提供了强大的功能来处理和准备数据。它可以帮助用户将数据整理成适用于机器学习算法的格式。</li><li><strong>数据库操作：</strong> Pandas可以轻松地与数据库进行交互，从数据库中导入数据到DataFrame中，进行分析和处理，然后将结果导回数据库。这在数据库管理和分析中非常有用。</li><li><strong>实时数据分析：</strong> 对于需要实时监控和分析数据的应用，Pandas的高效性能使其成为一个强大的工具。结合其他实时数据处理工具，可以构建实时分析系统。</li></ul><p>Pandas 在许多领域中都是一种强大而灵活的工具，为数据科学家、分析师和工程师提供了处理和分析数据的便捷方式。</p><h1 id="pandas-安装" tabindex="-1">Pandas 安装 <a class="header-anchor" href="#pandas-安装" aria-label="Permalink to &quot;Pandas 安装&quot;">​</a></h1><p>安装 pandas 需要基础环境是 Python，Pandas 是一个基于 Python 的库，因此你需要先安装 Python，然后再通过 Python 的包管理工具 pip 安装 Pandas。</p><p>使用 pip 安装 pandas:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pip install pandas</span></span></code></pre></div><p>安装成功后，我们就可以导入 pandas 包使用：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>import pandas</span></span></code></pre></div><h2 id="实例-查看-pandas-版本" tabindex="-1">实例 - 查看 pandas 版本 <a class="header-anchor" href="#实例-查看-pandas-版本" aria-label="Permalink to &quot;实例 - 查看 pandas 版本&quot;">​</a></h2><p>&gt;&gt;&gt; <strong>import</strong> pandas &gt;&gt;&gt; pandas.<strong>version</strong> # 查看版本 &#39;1.1.5&#39;</p><p>导入 pandas 一般使用别名 pd 来代替：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>import pandas as pd</span></span></code></pre></div><h2 id="实例-查看-pandas-版本-1" tabindex="-1">实例 - 查看 pandas 版本 <a class="header-anchor" href="#实例-查看-pandas-版本-1" aria-label="Permalink to &quot;实例 - 查看 pandas 版本&quot;">​</a></h2><p>&gt;&gt;&gt; <strong>import</strong> pandas <strong>as</strong> pd &gt;&gt;&gt; pd.<strong>version</strong> # 查看版本 &#39;1.1.5&#39;</p><p>一个简单的 pandas 实例：</p><h2 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>mydataset = { &#39;sites&#39;: [&quot;Google&quot;, &quot;Runoob&quot;, &quot;Wiki&quot;], &#39;number&#39;: [1, 2, 3] }</p><p>myvar = pd.DataFrame(mydataset)</p><p><strong>print</strong>(myvar)</p><p>执行以上代码，输出结果为：</p><p><img src="/assets/0332CA88-50C3-4BF6-BACC-D9963BE0F724.Ci00mz4w.jpg" alt="img"></p><h1 id="pandas-数据结构-series" tabindex="-1">Pandas 数据结构 - Series <a class="header-anchor" href="#pandas-数据结构-series" aria-label="Permalink to &quot;Pandas 数据结构 - Series&quot;">​</a></h1><p>Pandas Series 类似表格中的一个列（column），类似于一维数组，可以保存任何数据类型。</p><h3 id="series-特点" tabindex="-1">Series 特点： <a class="header-anchor" href="#series-特点" aria-label="Permalink to &quot;Series 特点：&quot;">​</a></h3><ul><li><strong>索引：</strong> 每个 <code>Series</code> 都有一个索引，它可以是整数、字符串、日期等类型。如果没有显式指定索引，Pandas 会自动创建一个默认的整数索引。</li><li><strong>数据类型：</strong> <code>Series</code> 可以容纳不同数据类型的元素，包括整数、浮点数、字符串等。</li></ul><p><img src="/assets/628084-20201205212241597-1156923446.DsQ1f0mG.png" alt="img"></p><p>Series 是 Pandas 中的一种基本数据结构，类似于一维数组或列表，但具有标签（索引），使得数据在处理和分析时更具灵活性。</p><p>以下是关于 Pandas 中的 Series 的详细介绍： 创建 Series： 可以使用 pd.Series() 构造函数创建一个 Series 对象，传递一个数据数组（可以是列表、NumPy 数组等）和一个可选的索引数组。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pandas.Series( data, index, dtype, name, copy)</span></span></code></pre></div><p>参数说明：</p><ul><li><strong>data</strong>：一组数据(ndarray 类型)。</li><li><strong>index</strong>：数据索引标签，如果不指定，默认从 0 开始。</li><li><strong>dtype</strong>：数据类型，默认会自己判断。</li><li><strong>name</strong>：设置名称。</li><li><strong>copy</strong>：拷贝数据，默认为 False。</li></ul><p>创建一个简单的 Series 实例：</p><h2 id="实例-1" tabindex="-1">实例 <a class="header-anchor" href="#实例-1" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>a = [1, 2, 3]</p><p>myvar = pd.Series(a)</p><p><strong>print</strong>(myvar)</p><p>输出结果如下：</p><p><img src="/assets/FD659034-1715-4020-A6BF-400FAC9CE849.YylFwERY.jpg" alt="img"></p><p>从上图可知，如果没有指定索引，索引值就从 0 开始，我们可以根据索引值读取数据：</p><h2 id="实例-2" tabindex="-1">实例 <a class="header-anchor" href="#实例-2" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>a = [1, 2, 3]</p><p>myvar = pd.Series(a)</p><p><strong>print</strong>(myvar[1])</p><p>输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>2</span></span></code></pre></div><p>我们可以指定索引值，如下实例：</p><h2 id="实例-3" tabindex="-1">实例 <a class="header-anchor" href="#实例-3" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>a = [&quot;Google&quot;, &quot;Runoob&quot;, &quot;Wiki&quot;]</p><p>myvar = pd.Series(a, index = [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;])</p><p><strong>print</strong>(myvar)</p><p>输出结果如下：</p><p><img src="/assets/32B49FA4-ED68-446A-9EBF-C52FCB6D0CD6.gzUrdu8K.jpg" alt="img"></p><p>根据索引值读取数据:</p><h2 id="实例-4" tabindex="-1">实例 <a class="header-anchor" href="#实例-4" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>a = [&quot;Google&quot;, &quot;Runoob&quot;, &quot;Wiki&quot;]</p><p>myvar = pd.Series(a, index = [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;])</p><p><strong>print</strong>(myvar[&quot;y&quot;])</p><p>输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Runoob</span></span></code></pre></div><p>我们也可以使用 key/value 对象，类似字典来创建 Series：</p><h2 id="实例-5" tabindex="-1">实例 <a class="header-anchor" href="#实例-5" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p 1:="" Google,="" 2:="" Runoob,="" 3:="" Wiki="">sites =</p><p>myvar = pd.Series(sites)</p><p><strong>print</strong>(myvar)</p><p>输出结果如下：</p><p><img src="/assets/C01F8A55-5D06-4FAD-BE34-A569A8B05E2C.D3mUNVP2.jpg" alt="img"></p><p>从上图可知，字典的 key 变成了索引值。</p><p>如果我们只需要字典中的一部分数据，只需要指定需要数据的索引即可，如下实例：</p><h2 id="实例-6" tabindex="-1">实例 <a class="header-anchor" href="#实例-6" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p 1:="" Google,="" 2:="" Runoob,="" 3:="" Wiki="">sites =</p><p>myvar = pd.Series(sites, index = [1, 2])</p><p><strong>print</strong>(myvar)</p><p>输出结果如下：</p><p><img src="/assets/6CC2CFBA-3CC5-459D-8FE0-D89C1EE1AEB9.CGtj9Frh.jpg" alt="img"></p><p>设置 Series 名称参数：</p><h2 id="实例-7" tabindex="-1">实例 <a class="header-anchor" href="#实例-7" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p 1:="" Google,="" 2:="" Runoob,="" 3:="" Wiki="">sites =</p><p>myvar = pd.Series(sites, index = [1, 2], name=&quot;RUNOOB-Series-TEST&quot; )</p><p><strong>print</strong>(myvar)</p><p><img src="/assets/1FB6D419-06D7-4229-9148-1F4E79DE6ACF.C8xZ6299.jpg" alt="img"></p><hr><h2 id="更多-series-说明" tabindex="-1">更多 Series 说明 <a class="header-anchor" href="#更多-series-说明" aria-label="Permalink to &quot;更多 Series 说明&quot;">​</a></h2><p><strong>基本操作：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 获取值</span></span>
<span class="line"><span>value = series[2]  # 获取索引为2的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取多个值</span></span>
<span class="line"><span>subset = series[1:4]  # 获取索引为1到3的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 使用自定义索引</span></span>
<span class="line"><span>value = series_with_index[&#39;b&#39;]  # 获取索引为&#39;b&#39;的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 索引和值的对应关系</span></span>
<span class="line"><span>for index, value in series_with_index.items():</span></span>
<span class="line"><span>    print(f&quot;Index: {index}, Value: {value}&quot;)</span></span></code></pre></div><p><strong>基本运算：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 算术运算</span></span>
<span class="line"><span>result = series * 2  # 所有元素乘以2</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 过滤</span></span>
<span class="line"><span>filtered_series = series[series &gt; 2]  # 选择大于2的元素</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 数学函数</span></span>
<span class="line"><span>import numpy as np</span></span>
<span class="line"><span>result = np.sqrt(series)  # 对每个元素取平方根</span></span></code></pre></div><p><strong>属性和方法：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 获取索引</span></span>
<span class="line"><span>index = series_with_index.index</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取值数组</span></span>
<span class="line"><span>values = series_with_index.values</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取描述统计信息</span></span>
<span class="line"><span>stats = series_with_index.describe()</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取最大值和最小值的索引</span></span>
<span class="line"><span>max_index = series_with_index.idxmax()</span></span>
<span class="line"><span>min_index = series_with_index.idxmin()</span></span></code></pre></div><p><strong>注意事项：</strong></p><ul><li><code>Series</code> 中的数据是有序的。</li><li>可以将 <code>Series</code> 视为带有索引的一维数组。</li><li>索引可以是唯一的，但不是必须的。</li><li>数据可以是标量、列表、NumPy 数组等。</li></ul><h1 id="pandas-数据结构-dataframe" tabindex="-1">Pandas 数据结构 - DataFrame <a class="header-anchor" href="#pandas-数据结构-dataframe" aria-label="Permalink to &quot;Pandas 数据结构 - DataFrame&quot;">​</a></h1><p>DataFrame 是一个表格型的数据结构，它含有一组有序的列，每列可以是不同的值类型（数值、字符串、布尔型值）。DataFrame 既有行索引也有列索引，它可以被看做由 Series 组成的字典（共同用一个索引）。</p><p><strong>DataFrame 特点：</strong></p><ul><li><strong>列和行：</strong> <code>DataFrame</code> 由多个列组成，每一列都有一个名称，可以看作是一个 <code>Series</code>。同时，<code>DataFrame</code> 有一个行索引，用于标识每一行。</li><li><strong>二维结构：</strong> <code>DataFrame</code> 是一个二维表格，具有行和列。可以将其视为多个 <code>Series</code> 对象组成的字典。</li><li><strong>列的数据类型：</strong> 不同的列可以包含不同的数据类型，例如整数、浮点数、字符串等。</li></ul><p><img src="/assets/pandas-DataStructure.BItbFwrK.png" alt="img"></p><p><img src="/assets/df-dp.DnhV6Ocv.png" alt="img"></p><p>DataFrame 构造方法如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pandas.DataFrame( data, index, columns, dtype, copy)</span></span></code></pre></div><p>参数说明：</p><ul><li><strong>data</strong>：一组数据(ndarray、series, map, lists, dict 等类型)。</li><li><strong>index</strong>：索引值，或者可以称为行标签。</li><li><strong>columns</strong>：列标签，默认为 RangeIndex (0, 1, 2, …, n) 。</li><li><strong>dtype</strong>：数据类型。</li><li><strong>copy</strong>：拷贝数据，默认为 False。</li></ul><p>Pandas DataFrame 是一个二维的数组结构，类似二维数组。</p><h2 id="实例-使用列表创建" tabindex="-1">实例 - 使用列表创建 <a class="header-anchor" href="#实例-使用列表创建" aria-label="Permalink to &quot;实例 - 使用列表创建&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = [[&#39;Google&#39;, 10], [&#39;Runoob&#39;, 12], [&#39;Wiki&#39;, 13]]</p><p># 创建DataFrame df = pd.DataFrame(data, columns=[&#39;Site&#39;, &#39;Age&#39;])</p><p># 使用astype方法设置每列的数据类型 df[&#39;Site&#39;] = df[&#39;Site&#39;].astype(str) df[&#39;Age&#39;] = df[&#39;Age&#39;].astype(float)</p><p><strong>print</strong>(df)</p><p>也可以使用字典来创建：</p><h2 id="实例-使用字典创建" tabindex="-1">实例 - 使用字典创建 <a class="header-anchor" href="#实例-使用字典创建" aria-label="Permalink to &quot;实例 - 使用字典创建&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p Site:[Google,="" Runoob,="" Wiki],="" Age:[10,="" 12,="" 13]="">data =</p><p>df = pd.DataFrame(data)</p><p><strong>print</strong> (df)</p><p>输出结果如下：</p><p><img src="/assets/BE773E8F-DEC2-4434-8630-91E660A1DFC0.B-mtoHDO.jpg" alt="img"></p><p>以下实例使用 ndarrays 创建，ndarray 的长度必须相同， 如果传递了 index，则索引的长度应等于数组的长度。如果没有传递索引，则默认情况下，索引将是range(n)，其中n是数组长度。</p><p>ndarrays 可以参考：<a href="https://www.runoob.com/numpy/numpy-ndarray-object.html" target="_blank" rel="noreferrer">NumPy Ndarray 对象</a></p><h2 id="实例-使用-ndarrays-创建" tabindex="-1">实例 - 使用 ndarrays 创建 <a class="header-anchor" href="#实例-使用-ndarrays-创建" aria-label="Permalink to &quot;实例 - 使用 ndarrays  创建&quot;">​</a></h2><p><strong>import</strong> numpy <strong>as</strong> np <strong>import</strong> pandas <strong>as</strong> pd</p><p># 创建一个包含网站和年龄的二维ndarray ndarray_data = np.array([ [&#39;Google&#39;, 10], [&#39;Runoob&#39;, 12], [&#39;Wiki&#39;, 13] ])</p><p># 使用DataFrame构造函数创建数据帧 df = pd.DataFrame(ndarray_data, columns=[&#39;Site&#39;, &#39;Age&#39;])</p><p># 打印数据帧 <strong>print</strong>(df)</p><p>输出结果如下：</p><p><img src="/assets/BE773E8F-DEC2-4434-8630-91E660A1DFC0.B-mtoHDO.jpg" alt="img"></p><p>从以上输出结果可以知道， DataFrame 数据类型一个表格，包含 rows（行） 和 columns（列）：</p><p><img src="/assets/rows-cloumns.ZeYo41A_.png" alt="img"></p><p>还可以使用字典（key/value），其中字典的 key 为列名:</p><h2 id="实例-使用字典创建-1" tabindex="-1">实例 - 使用字典创建 <a class="header-anchor" href="#实例-使用字典创建-1" aria-label="Permalink to &quot;实例 - 使用字典创建&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = [{&#39;a&#39;: 1, &#39;b&#39;: 2},{&#39;a&#39;: 5, &#39;b&#39;: 10, &#39;c&#39;: 20}]</p><p>df = pd.DataFrame(data)</p><p><strong>print</strong> (df)</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>   a   b     c</span></span>
<span class="line"><span>0  1   2   NaN</span></span>
<span class="line"><span>1  5  10  20.0</span></span></code></pre></div><p>没有对应的部分数据为 <strong>NaN</strong>。</p><p>Pandas 可以使用 loc 属性返回指定行的数据，如果没有设置索引，第一行索引为 <strong>0</strong>，第二行索引为 <strong>1</strong>，以此类推：</p><h2 id="实例-8" tabindex="-1">实例 <a class="header-anchor" href="#实例-8" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = { &quot;calories&quot;: [420, 380, 390], &quot;duration&quot;: [50, 40, 45] }</p><p># 数据载入到 DataFrame 对象 df = pd.DataFrame(data)</p><p># 返回第一行 <strong>print</strong>(df.loc[0]) # 返回第二行 <strong>print</strong>(df.loc[1])</p><p>输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>calories    420</span></span>
<span class="line"><span>duration     50</span></span>
<span class="line"><span>Name: 0, dtype: int64</span></span>
<span class="line"><span>calories    380</span></span>
<span class="line"><span>duration     40</span></span>
<span class="line"><span>Name: 1, dtype: int64</span></span></code></pre></div><p>**注意：**返回结果其实就是一个 Pandas Series 数据。</p><p>也可以返回多行数据，使用 [[ ... ]] 格式，... 为各行的索引，以逗号隔开：</p><h2 id="实例-9" tabindex="-1">实例 <a class="header-anchor" href="#实例-9" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = { &quot;calories&quot;: [420, 380, 390], &quot;duration&quot;: [50, 40, 45] }</p><p># 数据载入到 DataFrame 对象 df = pd.DataFrame(data)</p><p># 返回第一行和第二行 <strong>print</strong>(df.loc[[0, 1]])</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>   calories  duration</span></span>
<span class="line"><span>0       420        50</span></span>
<span class="line"><span>1       380        40</span></span></code></pre></div><p>**注意：**返回结果其实就是一个 Pandas DataFrame 数据。</p><p>我们可以指定索引值，如下实例：</p><h2 id="实例-10" tabindex="-1">实例 <a class="header-anchor" href="#实例-10" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = { &quot;calories&quot;: [420, 380, 390], &quot;duration&quot;: [50, 40, 45] }</p><p>df = pd.DataFrame(data, index = [&quot;day1&quot;, &quot;day2&quot;, &quot;day3&quot;])</p><p><strong>print</strong>(df)</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>      calories  duration</span></span>
<span class="line"><span>day1       420        50</span></span>
<span class="line"><span>day2       380        40</span></span>
<span class="line"><span>day3       390        45</span></span></code></pre></div><p>Pandas 可以使用 loc 属性返回指定索引对应到某一行：</p><h2 id="实例-11" tabindex="-1">实例 <a class="header-anchor" href="#实例-11" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = { &quot;calories&quot;: [420, 380, 390], &quot;duration&quot;: [50, 40, 45] }</p><p>df = pd.DataFrame(data, index = [&quot;day1&quot;, &quot;day2&quot;, &quot;day3&quot;])</p><p># 指定索引 <strong>print</strong>(df.loc[&quot;day2&quot;])</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>calories    380</span></span>
<span class="line"><span>duration     40</span></span>
<span class="line"><span>Name: day2, dtype: int64</span></span></code></pre></div><hr><h2 id="更多-dataframe-说明" tabindex="-1">更多 DataFrame 说明 <a class="header-anchor" href="#更多-dataframe-说明" aria-label="Permalink to &quot;更多 DataFrame 说明&quot;">​</a></h2><p><strong>基本操作：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 获取列</span></span>
<span class="line"><span>name_column = df[&#39;Name&#39;]</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取行</span></span>
<span class="line"><span>first_row = df.loc[0]</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 选择多列</span></span>
<span class="line"><span>subset = df[[&#39;Name&#39;, &#39;Age&#39;]]</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 过滤行</span></span>
<span class="line"><span>filtered_rows = df[df[&#39;Age&#39;] &gt; 30]</span></span></code></pre></div><p><strong>属性和方法：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 获取列名</span></span>
<span class="line"><span>columns = df.columns</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取形状（行数和列数）</span></span>
<span class="line"><span>shape = df.shape</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取索引</span></span>
<span class="line"><span>index = df.index</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 获取描述统计信息</span></span>
<span class="line"><span>stats = df.describe()</span></span></code></pre></div><p><strong>数据操作：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 添加新列</span></span>
<span class="line"><span>df[&#39;Salary&#39;] = [50000, 60000, 70000]</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 删除列</span></span>
<span class="line"><span>df.drop(&#39;City&#39;, axis=1, inplace=True)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 排序</span></span>
<span class="line"><span>df.sort_values(by=&#39;Age&#39;, ascending=False, inplace=True)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 重命名列</span></span>
<span class="line"><span>df.rename(columns={&#39;Name&#39;: &#39;Full Name&#39;}, inplace=True)</span></span></code></pre></div><p><strong>从外部数据源创建 DataFrame：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 从CSV文件创建 DataFrame</span></span>
<span class="line"><span>df_csv = pd.read_csv(&#39;example.csv&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 从Excel文件创建 DataFrame</span></span>
<span class="line"><span>df_excel = pd.read_excel(&#39;example.xlsx&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 从字典列表创建 DataFrame</span></span>
<span class="line"><span>data_list = [{&#39;Name&#39;: &#39;Alice&#39;, &#39;Age&#39;: 25}, {&#39;Name&#39;: &#39;Bob&#39;, &#39;Age&#39;: 30}]</span></span>
<span class="line"><span>df_from_list = pd.DataFrame(data_list)</span></span></code></pre></div><p><strong>注意事项：</strong></p><ul><li><code>DataFrame</code> 是一种灵活的数据结构，可以容纳不同数据类型的列。</li><li>列名和行索引可以是字符串、整数等。</li><li><code>DataFrame</code> 可以通过多种方式进行数据选择、过滤、修改和分析。</li><li>通过对 <code>DataFrame</code> 的操作，可以进行数据清洗、转换、分析和可视化等工作。</li></ul><h1 id="pandas-csv-文件" tabindex="-1">Pandas CSV 文件 <a class="header-anchor" href="#pandas-csv-文件" aria-label="Permalink to &quot;Pandas CSV 文件&quot;">​</a></h1><p>CSV（Comma-Separated Values，逗号分隔值，有时也称为字符分隔值，因为分隔字符也可以不是逗号），其文件以纯文本形式存储表格数据（数字和文本）。</p><p>CSV 是一种通用的、相对简单的文件格式，被用户、商业和科学广泛应用。</p><p>Pandas 可以很方便的处理 CSV 文件，本文以 <a href="https://static.jyshare.com/download/nba.csv" target="_blank" rel="noreferrer">nba.csv</a> 为例，你可以<a href="https://static.jyshare.com/download/nba.csv" target="_blank" rel="noreferrer">下载 nba.csv</a> 或<a href="https://static.jyshare.com/download/nba.csv.txt" target="_blank" rel="noreferrer">打开 nba.csv</a> 查看。</p><h2 id="实例-12" tabindex="-1">实例 <a class="header-anchor" href="#实例-12" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df.to_string())</p><p>to_string() 用于返回 DataFrame 类型的数据，如果不使用该函数，则输出结果为数据的前面 5 行和末尾 5 行，中间部分以 ... 代替。</p><h2 id="实例-13" tabindex="-1">实例 <a class="header-anchor" href="#实例-13" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df)</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>              Name            Team  Number Position   Age Height  Weight            College     Salary</span></span>
<span class="line"><span>0    Avery Bradley  Boston Celtics     0.0       PG  25.0    6-2   180.0              Texas  7730337.0</span></span>
<span class="line"><span>1      Jae Crowder  Boston Celtics    99.0       SF  25.0    6-6   235.0          Marquette  6796117.0</span></span>
<span class="line"><span>2     John Holland  Boston Celtics    30.0       SG  27.0    6-5   205.0  Boston University        NaN</span></span>
<span class="line"><span>3      R.J. Hunter  Boston Celtics    28.0       SG  22.0    6-5   185.0      Georgia State  1148640.0</span></span>
<span class="line"><span>4    Jonas Jerebko  Boston Celtics     8.0       PF  29.0   6-10   231.0                NaN  5000000.0</span></span>
<span class="line"><span>..             ...             ...     ...      ...   ...    ...     ...                ...        ...</span></span>
<span class="line"><span>453   Shelvin Mack       Utah Jazz     8.0       PG  26.0    6-3   203.0             Butler  2433333.0</span></span>
<span class="line"><span>454      Raul Neto       Utah Jazz    25.0       PG  24.0    6-1   179.0                NaN   900000.0</span></span>
<span class="line"><span>455   Tibor Pleiss       Utah Jazz    21.0        C  26.0    7-3   256.0                NaN  2900000.0</span></span>
<span class="line"><span>456    Jeff Withey       Utah Jazz    24.0        C  26.0    7-0   231.0             Kansas   947276.0</span></span>
<span class="line"><span>457            NaN             NaN     NaN      NaN   NaN    NaN     NaN                NaN        NaN</span></span></code></pre></div><p>我们也可以使用 to_csv() 方法将 DataFrame 存储为 csv 文件：</p><h2 id="实例-14" tabindex="-1">实例 <a class="header-anchor" href="#实例-14" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 三个字段 name, site, age nme = [&quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot;, &quot;Wiki&quot;] st = [&quot;www.google.com&quot;, &quot;www.runoob.com&quot;, &quot;www.taobao.com&quot;, &quot;www.wikipedia.org&quot;] ag = [90, 40, 80, 98]</p><p name:="" nme,="" site:="" st,="" age:="" ag=""># 字典 dict =</p><p>df = pd.DataFrame(dict)</p><p># 保存 dataframe df.to_csv(&#39;site.csv&#39;)</p><p>执行成功后，我们打开 site.csv 文件，显示结果如下：</p><p><img src="/assets/9758194A-0D8E-4C53-95A0-157C690614E6.cmgIV900.jpg" alt="img"></p><hr><h2 id="数据处理" tabindex="-1">数据处理 <a class="header-anchor" href="#数据处理" aria-label="Permalink to &quot;数据处理&quot;">​</a></h2><h3 id="head" tabindex="-1">head() <a class="header-anchor" href="#head" aria-label="Permalink to &quot;head()&quot;">​</a></h3><p>head( <em>n</em> ) 方法用于读取前面的 n 行，如果不填参数 n ，默认返回 5 行。</p><h2 id="实例-读取前面-5-行" tabindex="-1">实例 - 读取前面 5 行 <a class="header-anchor" href="#实例-读取前面-5-行" aria-label="Permalink to &quot;实例 - 读取前面 5 行&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df.head())</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>            Name            Team  Number Position   Age Height  Weight            College     Salary</span></span>
<span class="line"><span>0  Avery Bradley  Boston Celtics     0.0       PG  25.0    6-2   180.0              Texas  7730337.0</span></span>
<span class="line"><span>1    Jae Crowder  Boston Celtics    99.0       SF  25.0    6-6   235.0          Marquette  6796117.0</span></span>
<span class="line"><span>2   John Holland  Boston Celtics    30.0       SG  27.0    6-5   205.0  Boston University        NaN</span></span>
<span class="line"><span>3    R.J. Hunter  Boston Celtics    28.0       SG  22.0    6-5   185.0      Georgia State  1148640.0</span></span>
<span class="line"><span>4  Jonas Jerebko  Boston Celtics     8.0       PF  29.0   6-10   231.0                NaN  5000000.0</span></span></code></pre></div><h2 id="实例-读取前面-10-行" tabindex="-1">实例 - 读取前面 10 行 <a class="header-anchor" href="#实例-读取前面-10-行" aria-label="Permalink to &quot;实例 - 读取前面 10 行&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df.head(10))</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>            Name            Team  Number Position   Age Height  Weight            College      Salary</span></span>
<span class="line"><span>0  Avery Bradley  Boston Celtics     0.0       PG  25.0    6-2   180.0              Texas   7730337.0</span></span>
<span class="line"><span>1    Jae Crowder  Boston Celtics    99.0       SF  25.0    6-6   235.0          Marquette   6796117.0</span></span>
<span class="line"><span>2   John Holland  Boston Celtics    30.0       SG  27.0    6-5   205.0  Boston University         NaN</span></span>
<span class="line"><span>3    R.J. Hunter  Boston Celtics    28.0       SG  22.0    6-5   185.0      Georgia State   1148640.0</span></span>
<span class="line"><span>4  Jonas Jerebko  Boston Celtics     8.0       PF  29.0   6-10   231.0                NaN   5000000.0</span></span>
<span class="line"><span>5   Amir Johnson  Boston Celtics    90.0       PF  29.0    6-9   240.0                NaN  12000000.0</span></span>
<span class="line"><span>6  Jordan Mickey  Boston Celtics    55.0       PF  21.0    6-8   235.0                LSU   1170960.0</span></span>
<span class="line"><span>7   Kelly Olynyk  Boston Celtics    41.0        C  25.0    7-0   238.0            Gonzaga   2165160.0</span></span>
<span class="line"><span>8   Terry Rozier  Boston Celtics    12.0       PG  22.0    6-2   190.0         Louisville   1824360.0</span></span>
<span class="line"><span>9   Marcus Smart  Boston Celtics    36.0       PG  22.0    6-4   220.0     Oklahoma State   3431040.0</span></span></code></pre></div><h3 id="tail" tabindex="-1">tail() <a class="header-anchor" href="#tail" aria-label="Permalink to &quot;tail()&quot;">​</a></h3><p>tail( <em>n</em> ) 方法用于读取尾部的 n 行，如果不填参数 n ，默认返回 5 行，空行各个字段的值返回 <strong>NaN</strong>。</p><h2 id="实例-读取末尾-5-行" tabindex="-1">实例 - 读取末尾 5 行 <a class="header-anchor" href="#实例-读取末尾-5-行" aria-label="Permalink to &quot;实例 - 读取末尾 5 行&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df.tail())</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>             Name       Team  Number Position   Age Height  Weight College     Salary</span></span>
<span class="line"><span>453  Shelvin Mack  Utah Jazz     8.0       PG  26.0    6-3   203.0  Butler  2433333.0</span></span>
<span class="line"><span>454     Raul Neto  Utah Jazz    25.0       PG  24.0    6-1   179.0     NaN   900000.0</span></span>
<span class="line"><span>455  Tibor Pleiss  Utah Jazz    21.0        C  26.0    7-3   256.0     NaN  2900000.0</span></span>
<span class="line"><span>456   Jeff Withey  Utah Jazz    24.0        C  26.0    7-0   231.0  Kansas   947276.0</span></span>
<span class="line"><span>457           NaN        NaN     NaN      NaN   NaN    NaN     NaN     NaN        NaN</span></span></code></pre></div><h2 id="实例-读取末尾-10-行" tabindex="-1">实例 - 读取末尾 10 行 <a class="header-anchor" href="#实例-读取末尾-10-行" aria-label="Permalink to &quot;实例 - 读取末尾 10 行&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df.tail(10))</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>               Name       Team  Number Position   Age Height  Weight   College      Salary</span></span>
<span class="line"><span>448  Gordon Hayward  Utah Jazz    20.0       SF  26.0    6-8   226.0    Butler  15409570.0</span></span>
<span class="line"><span>449     Rodney Hood  Utah Jazz     5.0       SG  23.0    6-8   206.0      Duke   1348440.0</span></span>
<span class="line"><span>450      Joe Ingles  Utah Jazz     2.0       SF  28.0    6-8   226.0       NaN   2050000.0</span></span>
<span class="line"><span>451   Chris Johnson  Utah Jazz    23.0       SF  26.0    6-6   206.0    Dayton    981348.0</span></span>
<span class="line"><span>452      Trey Lyles  Utah Jazz    41.0       PF  20.0   6-10   234.0  Kentucky   2239800.0</span></span>
<span class="line"><span>453    Shelvin Mack  Utah Jazz     8.0       PG  26.0    6-3   203.0    Butler   2433333.0</span></span>
<span class="line"><span>454       Raul Neto  Utah Jazz    25.0       PG  24.0    6-1   179.0       NaN    900000.0</span></span>
<span class="line"><span>455    Tibor Pleiss  Utah Jazz    21.0        C  26.0    7-3   256.0       NaN   2900000.0</span></span>
<span class="line"><span>456     Jeff Withey  Utah Jazz    24.0        C  26.0    7-0   231.0    Kansas    947276.0</span></span>
<span class="line"><span>457             NaN        NaN     NaN      NaN   NaN    NaN     NaN       NaN         NaN</span></span></code></pre></div><h3 id="info" tabindex="-1">info() <a class="header-anchor" href="#info" aria-label="Permalink to &quot;info()&quot;">​</a></h3><p>info() 方法返回表格的一些基本信息：</p><h2 id="实例-15" tabindex="-1">实例 <a class="header-anchor" href="#实例-15" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;nba.csv&#39;)</p><p><strong>print</strong>(df.info())</p><p>输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span></span>
<span class="line"><span>RangeIndex: 458 entries, 0 to 457          # 行数，458 行，第一行编号为 0</span></span>
<span class="line"><span>Data columns (total 9 columns):            # 列数，9列</span></span>
<span class="line"><span> #   Column    Non-Null Count  Dtype       # 各列的数据类型</span></span>
<span class="line"><span>---  ------    --------------  -----  </span></span>
<span class="line"><span> 0   Name      457 non-null    object </span></span>
<span class="line"><span> 1   Team      457 non-null    object </span></span>
<span class="line"><span> 2   Number    457 non-null    float64</span></span>
<span class="line"><span> 3   Position  457 non-null    object </span></span>
<span class="line"><span> 4   Age       457 non-null    float64</span></span>
<span class="line"><span> 5   Height    457 non-null    object </span></span>
<span class="line"><span> 6   Weight    457 non-null    float64</span></span>
<span class="line"><span> 7   College   373 non-null    object         # non-null，意思为非空的数据    </span></span>
<span class="line"><span> 8   Salary    446 non-null    float64</span></span>
<span class="line"><span>dtypes: float64(4), object(5)                 # 类型</span></span></code></pre></div><p>non-null 为非空数据，我们可以看到上面的信息中，总共 458 行，College 字段的空值最多。</p><h1 id="pandas-json" tabindex="-1">Pandas JSON <a class="header-anchor" href="#pandas-json" aria-label="Permalink to &quot;Pandas JSON&quot;">​</a></h1><p>JSON（<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation，JavaScript 对象表示法），是存储和交换文本信息的语法，类似 XML。</p><p>JSON 比 XML 更小、更快，更易解析，更多 JSON 内容可以参考 <a href="https://www.runoob.com/json/json-tutorial.html" target="_blank" rel="noreferrer">JSON 教程</a>。</p><p>Pandas 可以很方便的处理 JSON 数据，本文以 <a href="https://static.jyshare.com/download/sites.json" target="_blank" rel="noreferrer">sites.json</a> 为例，内容如下：</p><h2 id="实例-16" tabindex="-1">实例 <a class="header-anchor" href="#实例-16" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>[ { &quot;id&quot;: &quot;A001&quot;, &quot;name&quot;: &quot;菜鸟教程&quot;, &quot;url&quot;: &quot;www.runoob.com&quot;, &quot;likes&quot;: 61 }, { &quot;id&quot;: &quot;A002&quot;, &quot;name&quot;: &quot;Google&quot;, &quot;url&quot;: &quot;www.google.com&quot;, &quot;likes&quot;: 124 }, { &quot;id&quot;: &quot;A003&quot;, &quot;name&quot;: &quot;淘宝&quot;, &quot;url&quot;: &quot;www.taobao.com&quot;, &quot;likes&quot;: 45 } ]</p><h2 id="实例-17" tabindex="-1">实例 <a class="header-anchor" href="#实例-17" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_json(&#39;sites.json&#39;)</p><p><strong>print</strong>(df.to_string())</p><p>to_string() 用于返回 DataFrame 类型的数据，我们也可以直接处理 JSON 字符串。</p><h2 id="实例-18" tabindex="-1">实例 <a class="header-anchor" href="#实例-18" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data =[ { &quot;id&quot;: &quot;A001&quot;, &quot;name&quot;: &quot;菜鸟教程&quot;, &quot;url&quot;: &quot;www.runoob.com&quot;, &quot;likes&quot;: 61 }, { &quot;id&quot;: &quot;A002&quot;, &quot;name&quot;: &quot;Google&quot;, &quot;url&quot;: &quot;www.google.com&quot;, &quot;likes&quot;: 124 }, { &quot;id&quot;: &quot;A003&quot;, &quot;name&quot;: &quot;淘宝&quot;, &quot;url&quot;: &quot;www.taobao.com&quot;, &quot;likes&quot;: 45 } ] df = pd.DataFrame(data)</p><p><strong>print</strong>(df)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     id    name             url  likes</span></span>
<span class="line"><span>0  A001    菜鸟教程  www.runoob.com     61</span></span>
<span class="line"><span>1  A002  Google  www.google.com    124</span></span>
<span class="line"><span>2  A003      淘宝  www.taobao.com     45</span></span></code></pre></div><p>JSON 对象与 Python 字典具有相同的格式，所以我们可以直接将 Python 字典转化为 DataFrame 数据：</p><h2 id="实例-19" tabindex="-1">实例 <a class="header-anchor" href="#实例-19" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 字典格式的 JSON<br> s = { &quot;col1&quot;:{&quot;row1&quot;:1,&quot;row2&quot;:2,&quot;row3&quot;:3}, &quot;col2&quot;:{&quot;row1&quot;:&quot;x&quot;,&quot;row2&quot;:&quot;y&quot;,&quot;row3&quot;:&quot;z&quot;} }</p><p># 读取 JSON 转为 DataFrame<br> df = pd.DataFrame(s) <strong>print</strong>(df)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>      col1 col2</span></span>
<span class="line"><span>row1     1    x</span></span>
<span class="line"><span>row2     2    y</span></span>
<span class="line"><span>row3     3    z</span></span></code></pre></div><p>从 URL 中读取 JSON 数据：</p><h2 id="实例-20" tabindex="-1">实例 <a class="header-anchor" href="#实例-20" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>URL = &#39;<a href="https://static.jyshare.com/download/sites.json" target="_blank" rel="noreferrer">https://static.jyshare.com/download/sites.json</a>&#39; df = pd.read_json(URL) <strong>print</strong>(df)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     id    name             url  likes</span></span>
<span class="line"><span>0  A001    菜鸟教程  www.runoob.com     61</span></span>
<span class="line"><span>1  A002  Google  www.google.com    124</span></span>
<span class="line"><span>2  A003      淘宝  www.taobao.com     45</span></span></code></pre></div><h3 id="内嵌的-json-数据" tabindex="-1">内嵌的 JSON 数据 <a class="header-anchor" href="#内嵌的-json-数据" aria-label="Permalink to &quot;内嵌的 JSON 数据&quot;">​</a></h3><p>假设有一组内嵌的 JSON 数据文件 <strong>nested_list.json</strong> ：</p><h2 id="nested-list-json-文件内容" tabindex="-1">nested_list.json 文件内容 <a class="header-anchor" href="#nested-list-json-文件内容" aria-label="Permalink to &quot;nested_list.json 文件内容&quot;">​</a></h2><p>{ &quot;school_name&quot;: &quot;ABC primary school&quot;, &quot;class&quot;: &quot;Year 1&quot;, &quot;students&quot;: [ { &quot;id&quot;: &quot;A001&quot;, &quot;name&quot;: &quot;Tom&quot;, &quot;math&quot;: 60, &quot;physics&quot;: 66, &quot;chemistry&quot;: 61 }, { &quot;id&quot;: &quot;A002&quot;, &quot;name&quot;: &quot;James&quot;, &quot;math&quot;: 89, &quot;physics&quot;: 76, &quot;chemistry&quot;: 51 }, { &quot;id&quot;: &quot;A003&quot;, &quot;name&quot;: &quot;Jenny&quot;, &quot;math&quot;: 79, &quot;physics&quot;: 90, &quot;chemistry&quot;: 78 }] }</p><p>使用以下代码格式化完整内容：</p><h2 id="实例-21" tabindex="-1">实例 <a class="header-anchor" href="#实例-21" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_json(&#39;nested_list.json&#39;)</p><p><strong>print</strong>(df)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>          school_name   class                                           students</span></span>
<span class="line"><span>0  ABC primary school  Year 1  {&#39;id&#39;: &#39;A001&#39;, &#39;name&#39;: &#39;Tom&#39;, &#39;math&#39;: 60, &#39;phy...</span></span>
<span class="line"><span>1  ABC primary school  Year 1  {&#39;id&#39;: &#39;A002&#39;, &#39;name&#39;: &#39;James&#39;, &#39;math&#39;: 89, &#39;p...</span></span>
<span class="line"><span>2  ABC primary school  Year 1  {&#39;id&#39;: &#39;A003&#39;, &#39;name&#39;: &#39;Jenny&#39;, &#39;math&#39;: 79, &#39;p...</span></span></code></pre></div><p>这时我们就需要使用到 json_normalize() 方法将内嵌的数据完整的解析出来：</p><h2 id="实例-22" tabindex="-1">实例 <a class="header-anchor" href="#实例-22" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd <strong>import</strong> json</p><p># 使用 Python JSON 模块载入数据 <strong>with</strong> open(&#39;nested_list.json&#39;,&#39;r&#39;) <strong>as</strong> f: data = json.loads(f.read())</p><p># 展平数据 df_nested_list = pd.json_normalize(data, record_path =[&#39;students&#39;]) <strong>print</strong>(df_nested_list)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     id   name  math  physics  chemistry</span></span>
<span class="line"><span>0  A001    Tom    60       66         61</span></span>
<span class="line"><span>1  A002  James    89       76         51</span></span>
<span class="line"><span>2  A003  Jenny    79       90         78</span></span></code></pre></div><p>data = json.loads(f.read()) 使用 Python JSON 模块载入数据。</p><p>json_normalize() 使用了参数 <strong>record_path</strong> 并设置为 <strong>[&#39;students&#39;]</strong> 用于展开内嵌的 JSON 数据 <strong>students</strong>。</p><p>显示结果还没有包含 school_name 和 class 元素，如果需要展示出来可以使用 meta 参数来显示这些元数据：</p><h2 id="实例-23" tabindex="-1">实例 <a class="header-anchor" href="#实例-23" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd <strong>import</strong> json</p><p># 使用 Python JSON 模块载入数据 <strong>with</strong> open(&#39;nested_list.json&#39;,&#39;r&#39;) <strong>as</strong> f: data = json.loads(f.read())</p><p># 展平数据 df_nested_list = pd.json_normalize( data, record_path =[&#39;students&#39;], meta=[&#39;school_name&#39;, &#39;class&#39;] ) <strong>print</strong>(df_nested_list)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     id   name  math  physics  chemistry         school_name   class</span></span>
<span class="line"><span>0  A001    Tom    60       66         61  ABC primary school  Year 1</span></span>
<span class="line"><span>1  A002  James    89       76         51  ABC primary school  Year 1</span></span>
<span class="line"><span>2  A003  Jenny    79       90         78  ABC primary school  Year 1</span></span></code></pre></div><p>接下来，让我们尝试读取更复杂的 JSON 数据，该数据嵌套了列表和字典，数据文件 <strong>nested_mix.json</strong> 如下：</p><h2 id="nested-mix-json-文件内容" tabindex="-1">nested_mix.json 文件内容 <a class="header-anchor" href="#nested-mix-json-文件内容" aria-label="Permalink to &quot;nested_mix.json 文件内容&quot;">​</a></h2><p>{ &quot;school_name&quot;: &quot;local primary school&quot;, &quot;class&quot;: &quot;Year 1&quot;, &quot;info&quot;: { &quot;president&quot;: &quot;John Kasich&quot;, &quot;address&quot;: &quot;ABC road, London, UK&quot;, &quot;contacts&quot;: { &quot;email&quot;: &quot;<a href="mailto:admin@e.com" target="_blank" rel="noreferrer">admin@e.com</a>&quot;, &quot;tel&quot;: &quot;123456789&quot; } }, &quot;students&quot;: [ { &quot;id&quot;: &quot;A001&quot;, &quot;name&quot;: &quot;Tom&quot;, &quot;math&quot;: 60, &quot;physics&quot;: 66, &quot;chemistry&quot;: 61 }, { &quot;id&quot;: &quot;A002&quot;, &quot;name&quot;: &quot;James&quot;, &quot;math&quot;: 89, &quot;physics&quot;: 76, &quot;chemistry&quot;: 51 }, { &quot;id&quot;: &quot;A003&quot;, &quot;name&quot;: &quot;Jenny&quot;, &quot;math&quot;: 79, &quot;physics&quot;: 90, &quot;chemistry&quot;: 78 }] }</p><p>nested_mix.json 文件转换为 DataFrame：</p><h2 id="实例-24" tabindex="-1">实例 <a class="header-anchor" href="#实例-24" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd <strong>import</strong> json</p><p># 使用 Python JSON 模块载入数据 <strong>with</strong> open(&#39;nested_mix.json&#39;,&#39;r&#39;) <strong>as</strong> f: data = json.loads(f.read())</p><p>df = pd.json_normalize( data, record_path =[&#39;students&#39;], meta=[ &#39;class&#39;, [&#39;info&#39;, &#39;president&#39;], [&#39;info&#39;, &#39;contacts&#39;, &#39;tel&#39;] ] )</p><p><strong>print</strong>(df)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     id   name  math  physics  chemistry   class info.president info.contacts.tel</span></span>
<span class="line"><span>0  A001    Tom    60       66         61  Year 1    John Kasich         123456789</span></span>
<span class="line"><span>1  A002  James    89       76         51  Year 1    John Kasich         123456789</span></span>
<span class="line"><span>2  A003  Jenny    79       90         78  Year 1    John Kasich         123456789</span></span></code></pre></div><h3 id="读取内嵌数据中的一组数据" tabindex="-1">读取内嵌数据中的一组数据 <a class="header-anchor" href="#读取内嵌数据中的一组数据" aria-label="Permalink to &quot;读取内嵌数据中的一组数据&quot;">​</a></h3><p>以下是实例文件 <strong>nested_deep.json</strong>，我们只读取内嵌中的 <strong>math</strong> 字段：</p><h2 id="nested-deep-json-文件内容" tabindex="-1">nested_deep.json 文件内容 <a class="header-anchor" href="#nested-deep-json-文件内容" aria-label="Permalink to &quot;nested_deep.json 文件内容&quot;">​</a></h2><p>{ &quot;school_name&quot;: &quot;local primary school&quot;, &quot;class&quot;: &quot;Year 1&quot;, &quot;students&quot;: [ { &quot;id&quot;: &quot;A001&quot;, &quot;name&quot;: &quot;Tom&quot;, &quot;grade&quot;: { &quot;math&quot;: 60, &quot;physics&quot;: 66, &quot;chemistry&quot;: 61 }</p><p>}, { &quot;id&quot;: &quot;A002&quot;, &quot;name&quot;: &quot;James&quot;, &quot;grade&quot;: { &quot;math&quot;: 89, &quot;physics&quot;: 76, &quot;chemistry&quot;: 51 }</p><p>}, { &quot;id&quot;: &quot;A003&quot;, &quot;name&quot;: &quot;Jenny&quot;, &quot;grade&quot;: { &quot;math&quot;: 79, &quot;physics&quot;: 90, &quot;chemistry&quot;: 78 } }] }</p><p>这里我们需要使用到 <strong>glom</strong> 模块来处理数据套嵌，<strong>glom</strong> 模块允许我们使用 . 来访问内嵌对象的属性。</p><p>第一次使用我们需要安装 glom：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pip3 install glom</span></span></code></pre></div><h2 id="实例-25" tabindex="-1">实例 <a class="header-anchor" href="#实例-25" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd <strong>from</strong> glom <strong>import</strong> glom</p><p>df = pd.read_json(&#39;nested_deep.json&#39;)</p><p>data = df[&#39;students&#39;].apply(<strong>lambda</strong> row: glom(row, &#39;grade.math&#39;)) <strong>print</strong>(data)</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>0    60</span></span>
<span class="line"><span>1    89</span></span>
<span class="line"><span>2    79</span></span>
<span class="line"><span>Name: students, dtype: int64</span></span></code></pre></div><h1 id="pandas-数据清洗" tabindex="-1">Pandas 数据清洗 <a class="header-anchor" href="#pandas-数据清洗" aria-label="Permalink to &quot;Pandas 数据清洗&quot;">​</a></h1><p>数据清洗是对一些没有用的数据进行处理的过程。</p><p>很多数据集存在数据缺失、数据格式错误、错误数据或重复数据的情况，如果要使数据分析更加准确，就需要对这些没有用的数据进行处理。</p><p>在这个教程中，我们将利用 Pandas包来进行数据清洗。</p><p>本文使用到的测试数据 <a href="https://static.jyshare.com/download/property-data.csv" target="_blank" rel="noreferrer">property-data.csv</a> 如下：</p><p><img src="/assets/6A6DE9DA-E0EE-4001-8C21-1D6A8EBF70FF.Bzzvsj0b.jpeg" alt="img"></p><p>上表包含了四种空数据：</p><ul><li>n/a</li><li>NA</li><li>—</li><li>na</li></ul><hr><h2 id="pandas-清洗空值" tabindex="-1">Pandas 清洗空值 <a class="header-anchor" href="#pandas-清洗空值" aria-label="Permalink to &quot;Pandas 清洗空值&quot;">​</a></h2><p>如果我们要删除包含空字段的行，可以使用 <strong>dropna()</strong> 方法，语法格式如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>DataFrame.dropna(axis=0, how=&#39;any&#39;, thresh=None, subset=None, inplace=False)</span></span></code></pre></div><p><strong>参数说明：</strong></p><ul><li>axis：默认为 <strong>0</strong>，表示逢空值剔除整行，如果设置参数 <strong>axis＝1</strong> 表示逢空值去掉整列。</li><li>how：默认为 <strong>&#39;any&#39;</strong> 如果一行（或一列）里任何一个数据有出现 NA 就去掉整行，如果设置 <strong>how=&#39;all&#39;</strong> 一行（或列）都是 NA 才去掉这整行。</li><li>thresh：设置需要多少非空值的数据才可以保留下来的。</li><li>subset：设置想要检查的列。如果是多个列，可以使用列名的 list 作为参数。</li><li>inplace：如果设置 True，将计算得到的值直接覆盖之前的值并返回 None，修改的是源数据。</li></ul><p>我们可以通过 isnull() 判断各个单元格是否为空。</p><h2 id="实例-26" tabindex="-1">实例 <a class="header-anchor" href="#实例-26" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p><strong>print</strong> (df[&#39;NUM_BEDROOMS&#39;]) <strong>print</strong> (df[&#39;NUM_BEDROOMS&#39;].isnull())</p><p>以上实例输出结果如下：</p><p><img src="/assets/2A5B93BC-E0A3-4864-98B7-7DAE0E92C5F2.DKIxB6RM.jpg" alt="img"></p><p>以上例子中我们看到 Pandas 把 n/a 和 NA 当作空数据，na 不是空数据，不符合我们要求，我们可以指定空数据类型：</p><h2 id="实例-27" tabindex="-1">实例 <a class="header-anchor" href="#实例-27" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>missing_values = [&quot;n/a&quot;, &quot;na&quot;, &quot;--&quot;] df = pd.read_csv(&#39;property-data.csv&#39;, na_values = missing_values)</p><p><strong>print</strong> (df[&#39;NUM_BEDROOMS&#39;]) <strong>print</strong> (df[&#39;NUM_BEDROOMS&#39;].isnull())</p><p>以上实例输出结果如下：</p><p><img src="/assets/FCE8C077-C981-4764-ACBC-CB129304F831.COJzUdUK.jpg" alt="img"></p><p>接下来的实例演示了删除包含空数据的行。</p><h2 id="实例-28" tabindex="-1">实例 <a class="header-anchor" href="#实例-28" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>new_df = df.dropna()</p><p><strong>print</strong>(new_df.to_string())</p><p>以上实例输出结果如下：</p><p><img src="/assets/4744B204-1527-49DE-B749-E39D6C7DFE01.CdbCTA3x.jpg" alt="img"></p><p>**注意：**默认情况下，dropna() 方法返回一个新的 DataFrame，不会修改源数据。</p><p>如果你要修改源数据 DataFrame, 可以使用 <strong>inplace = True</strong> 参数:</p><h2 id="实例-29" tabindex="-1">实例 <a class="header-anchor" href="#实例-29" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>df.dropna(inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><p><img src="/assets/4744B204-1527-49DE-B749-E39D6C7DFE01.CdbCTA3x.jpg" alt="img"></p><p>我们也可以移除指定列有空值的行：</p><h2 id="实例-30" tabindex="-1">实例 <a class="header-anchor" href="#实例-30" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>移除 ST_NUM 列中字段值为空的行：</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>df.dropna(subset=[&#39;ST_NUM&#39;], inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><p><img src="/assets/C83C70BC-5E47-4397-938D-7445104BE551.aK8gLplm.jpg" alt="img"></p><p>我们也可以 <strong>fillna()</strong> 方法来替换一些空字段：</p><h2 id="实例-31" tabindex="-1">实例 <a class="header-anchor" href="#实例-31" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>使用 12345 替换空字段：</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>df.fillna(12345, inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><p><img src="/assets/5033AA75-BC7D-4192-9428-221765EA3C58.EeuWFp9U.jpg" alt="img"></p><p>我们也可以指定某一个列来替换数据：</p><h2 id="实例-32" tabindex="-1">实例 <a class="header-anchor" href="#实例-32" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>使用 12345 替换 PID 为空数据：</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>df[&#39;PID&#39;].fillna(12345, inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><p><img src="/assets/2F955E95-8C4C-4E7C-B788-5714B2C898C2.DP_8cQyb.jpg" alt="img"></p><p>替换空单元格的常用方法是计算列的均值、中位数值或众数。</p><p>Pandas使用 mean()、median() 和 mode() 方法计算列的均值（所有值加起来的平均值）、中位数值（排序后排在中间的数）和众数（出现频率最高的数）。</p><h2 id="实例-33" tabindex="-1">实例 <a class="header-anchor" href="#实例-33" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>使用 mean() 方法计算列的均值并替换空单元格：</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>x = df[&quot;ST_NUM&quot;].mean()</p><p>df[&quot;ST_NUM&quot;].fillna(x, inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下，红框为计算的均值替换来空单元格：</p><p><img src="/assets/6A758363-02FA-4F6E-9F30-7A3E4489639A.CVT7Kktn.jpg" alt="img"></p><h2 id="实例-34" tabindex="-1">实例 <a class="header-anchor" href="#实例-34" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>使用 median() 方法计算列的中位数并替换空单元格：</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>x = df[&quot;ST_NUM&quot;].median()</p><p>df[&quot;ST_NUM&quot;].fillna(x, inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下，红框为计算的中位数替换来空单元格：</p><p><img src="/assets/551B8875-D393-4003-BB68-695EBEDBB0FE.DgXTKvQS.jpg" alt="img"></p><h2 id="实例-35" tabindex="-1">实例 <a class="header-anchor" href="#实例-35" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>使用 mode() 方法计算列的众数并替换空单元格：</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>df = pd.read_csv(&#39;property-data.csv&#39;)</p><p>x = df[&quot;ST_NUM&quot;].mode()</p><p>df[&quot;ST_NUM&quot;].fillna(x, inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下，红框为计算的众数替换来空单元格：</p><p><img src="/assets/40F6D1C2-CFD7-4C53-B887-86695F486E6D.Bq8lrPPf.jpg" alt="img"></p><hr><h2 id="pandas-清洗格式错误数据" tabindex="-1">Pandas 清洗格式错误数据 <a class="header-anchor" href="#pandas-清洗格式错误数据" aria-label="Permalink to &quot;Pandas 清洗格式错误数据&quot;">​</a></h2><p>数据格式错误的单元格会使数据分析变得困难，甚至不可能。</p><p>我们可以通过包含空单元格的行，或者将列中的所有单元格转换为相同格式的数据。</p><p>以下实例会格式化日期：</p><h2 id="实例-36" tabindex="-1">实例 <a class="header-anchor" href="#实例-36" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 第三个日期格式错误 data = { &quot;Date&quot;: [&#39;2020/12/01&#39;, &#39;2020/12/02&#39; , &#39;20201226&#39;], &quot;duration&quot;: [50, 40, 45] }</p><p>df = pd.DataFrame(data, index = [&quot;day1&quot;, &quot;day2&quot;, &quot;day3&quot;])</p><p>df[&#39;Date&#39;] = pd.to_datetime(df[&#39;Date&#39;])</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>           Date  duration</span></span>
<span class="line"><span>day1 2020-12-01        50</span></span>
<span class="line"><span>day2 2020-12-02        40</span></span>
<span class="line"><span>day3 2020-12-26        45</span></span></code></pre></div><hr><h2 id="pandas-清洗错误数据" tabindex="-1">Pandas 清洗错误数据 <a class="header-anchor" href="#pandas-清洗错误数据" aria-label="Permalink to &quot;Pandas 清洗错误数据&quot;">​</a></h2><p>数据错误也是很常见的情况，我们可以对错误的数据进行替换或移除。</p><p>以下实例会替换错误年龄的数据：</p><h2 id="实例-37" tabindex="-1">实例 <a class="header-anchor" href="#实例-37" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>person = { &quot;name&quot;: [&#39;Google&#39;, &#39;Runoob&#39; , &#39;Taobao&#39;], &quot;age&quot;: [50, 40, 12345] # 12345 年龄数据是错误的 }</p><p>df = pd.DataFrame(person)</p><p>df.loc[2, &#39;age&#39;] = 30 # 修改数据</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     name  age</span></span>
<span class="line"><span>0  Google   50</span></span>
<span class="line"><span>1  Runoob   40</span></span>
<span class="line"><span>2  Taobao   30</span></span></code></pre></div><p>也可以设置条件语句：</p><h2 id="实例-38" tabindex="-1">实例 <a class="header-anchor" href="#实例-38" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>将 age 大于 120 的设置为 120:</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>person = { &quot;name&quot;: [&#39;Google&#39;, &#39;Runoob&#39; , &#39;Taobao&#39;], &quot;age&quot;: [50, 200, 12345]<br> }</p><p>df = pd.DataFrame(person)</p><p><strong>for</strong> x <strong>in</strong> df.index: <strong>if</strong> df.loc[x, &quot;age&quot;] &gt; 120: df.loc[x, &quot;age&quot;] = 120</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     name  age</span></span>
<span class="line"><span>0  Google   50</span></span>
<span class="line"><span>1  Runoob  120</span></span>
<span class="line"><span>2  Taobao  120</span></span></code></pre></div><p>也可以将错误数据的行删除：</p><h2 id="实例-39" tabindex="-1">实例 <a class="header-anchor" href="#实例-39" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>将 age 大于 120 的删除:</p><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>person = { &quot;name&quot;: [&#39;Google&#39;, &#39;Runoob&#39; , &#39;Taobao&#39;], &quot;age&quot;: [50, 40, 12345] # 12345 年龄数据是错误的 }</p><p>df = pd.DataFrame(person)</p><p><strong>for</strong> x <strong>in</strong> df.index: <strong>if</strong> df.loc[x, &quot;age&quot;] &gt; 120: df.drop(x, inplace = True)</p><p><strong>print</strong>(df.to_string())</p><p>以上实例输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     name  age</span></span>
<span class="line"><span>0  Google   50</span></span>
<span class="line"><span>1  Runoob   40</span></span></code></pre></div><hr><h2 id="pandas-清洗重复数据" tabindex="-1">Pandas 清洗重复数据 <a class="header-anchor" href="#pandas-清洗重复数据" aria-label="Permalink to &quot;Pandas 清洗重复数据&quot;">​</a></h2><p>如果我们要清洗重复数据，可以使用 <strong>duplicated()</strong> 和 <strong>drop_duplicates()</strong> 方法。</p><p>如果对应的数据是重复的，<strong>duplicated()</strong> 会返回 True，否则返回 False。</p><h2 id="实例-40" tabindex="-1">实例 <a class="header-anchor" href="#实例-40" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>person = { &quot;name&quot;: [&#39;Google&#39;, &#39;Runoob&#39;, &#39;Runoob&#39;, &#39;Taobao&#39;], &quot;age&quot;: [50, 40, 40, 23]<br> } df = pd.DataFrame(person)</p><p><strong>print</strong>(df.duplicated())</p><p>以上实例输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>0    False</span></span>
<span class="line"><span>1    False</span></span>
<span class="line"><span>2     True</span></span>
<span class="line"><span>3    False</span></span>
<span class="line"><span>dtype: bool</span></span></code></pre></div><p>删除重复数据，可以直接使用<strong>drop_duplicates()</strong> 方法。</p><h2 id="实例-41" tabindex="-1">实例 <a class="header-anchor" href="#实例-41" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>persons = { &quot;name&quot;: [&#39;Google&#39;, &#39;Runoob&#39;, &#39;Runoob&#39;, &#39;Taobao&#39;], &quot;age&quot;: [50, 40, 40, 23]<br> }</p><p>df = pd.DataFrame(persons)</p><p>df.drop_duplicates(inplace = True) <strong>print</strong>(df)</p><p>以上实例输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     name  age</span></span>
<span class="line"><span>0  Google   50</span></span>
<span class="line"><span>1  Runoob   40</span></span>
<span class="line"><span>3  Taobao   23</span></span></code></pre></div><h1 id="pandas-常用函数" tabindex="-1">Pandas 常用函数 <a class="header-anchor" href="#pandas-常用函数" aria-label="Permalink to &quot;Pandas 常用函数&quot;">​</a></h1><p>以下列出了 Pandas 常用的一些函数及使用实例：</p><h2 id="读取数据" tabindex="-1">读取数据 <a class="header-anchor" href="#读取数据" aria-label="Permalink to &quot;读取数据&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>pd.read_csv(filename)</td><td>读取 CSV 文件；</td></tr><tr><td>pd.read_excel(filename)</td><td>读取 Excel 文件；</td></tr><tr><td>pd.read_sql(query, connection_object)</td><td>从 SQL 数据库读取数据；</td></tr><tr><td>pd.read_json(json_string)</td><td>从 JSON 字符串中读取数据；</td></tr><tr><td>pd.read_html(url)</td><td>从 HTML 页面中读取数据。</td></tr></tbody></table><h2 id="实例-42" tabindex="-1">实例 <a class="header-anchor" href="#实例-42" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 从 CSV 文件中读取数据 df = pd.read_csv(&#39;data.csv&#39;)</p><p># 从 Excel 文件中读取数据 df = pd.read_excel(&#39;data.xlsx&#39;)</p><p># 从 SQL 数据库中读取数据 <strong>import</strong> sqlite3 conn = sqlite3.connect(&#39;database.db&#39;) df = pd.read_sql(&#39;SELECT * FROM table_name&#39;, conn)</p><p># 从 JSON 字符串中读取数据 json_string = &#39;{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30, &quot;city&quot;: &quot;New York&quot;}&#39; df = pd.read_json(json_string)</p><p># 从 HTML 页面中读取数据 url = &#39;<a href="https://www.runoob.com" target="_blank" rel="noreferrer">https://www.runoob.com</a>&#39; dfs = pd.read_html(url) df = dfs[0] # 选择第一个数据框</p><hr><h2 id="查看数据" tabindex="-1">查看数据 <a class="header-anchor" href="#查看数据" aria-label="Permalink to &quot;查看数据&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df.head(n)</td><td>显示前 n 行数据；</td></tr><tr><td>df.tail(n)</td><td>显示后 n 行数据；</td></tr><tr><td>df.info()</td><td>显示数据的信息，包括列名、数据类型、缺失值等；</td></tr><tr><td>df.describe()</td><td>显示数据的基本统计信息，包括均值、方差、最大值、最小值等；</td></tr><tr><td>df.shape</td><td>显示数据的行数和列数。</td></tr></tbody></table><h2 id="实例-43" tabindex="-1">实例 <a class="header-anchor" href="#实例-43" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p># 显示前五行数据 df.head()</p><p># 显示后五行数据 df.tail()</p><p># 显示数据信息 df.info()</p><p># 显示基本统计信息 df.describe()</p><p># 显示数据的行数和列数 df.shape</p><h2 id="实例-44" tabindex="-1">实例 <a class="header-anchor" href="#实例-44" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p>data = [ {&quot;name&quot;: &quot;Google&quot;, &quot;likes&quot;: 25, &quot;url&quot;: &quot;<a href="https://www.google.com" target="_blank" rel="noreferrer">https://www.google.com</a>&quot;}, {&quot;name&quot;: &quot;Runoob&quot;, &quot;likes&quot;: 30, &quot;url&quot;: &quot;<a href="https://www.runoob.com" target="_blank" rel="noreferrer">https://www.runoob.com</a>&quot;}, {&quot;name&quot;: &quot;Taobao&quot;, &quot;likes&quot;: 35, &quot;url&quot;: &quot;<a href="https://www.taobao.com" target="_blank" rel="noreferrer">https://www.taobao.com</a>&quot;} ]</p><p>df = pd.DataFrame(data) # 显示前两行数据 <strong>print</strong>(df.head(2)) # 显示前最后一行数据 <strong>print</strong>(df.tail(1))</p><p>以上实例输出结果为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     name  likes                     url</span></span>
<span class="line"><span>0  Google     25  https://www.google.com</span></span>
<span class="line"><span>1  Runoob     30  https://www.runoob.com</span></span>
<span class="line"><span>     name  likes                     url</span></span>
<span class="line"><span>2  Taobao     35  https://www.taobao.com</span></span></code></pre></div><hr><h2 id="数据清洗" tabindex="-1">数据清洗 <a class="header-anchor" href="#数据清洗" aria-label="Permalink to &quot;数据清洗&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df.dropna()</td><td>删除包含缺失值的行或列；</td></tr><tr><td>df.fillna(value)</td><td>将缺失值替换为指定的值；</td></tr><tr><td>df.replace(old_value, new_value)</td><td>将指定值替换为新值；</td></tr><tr><td>df.duplicated()</td><td>检查是否有重复的数据；</td></tr><tr><td>df.drop_duplicates()</td><td>删除重复的数据。</td></tr></tbody></table><h2 id="实例-45" tabindex="-1">实例 <a class="header-anchor" href="#实例-45" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p># 删除包含缺失值的行或列 df.dropna()</p><p># 将缺失值替换为指定的值 df.fillna(0)</p><p># 将指定值替换为新值 df.replace(&#39;old_value&#39;, &#39;new_value&#39;)</p><p># 检查是否有重复的数据 df.duplicated()</p><p># 删除重复的数据 df.drop_duplicates()</p><hr><h2 id="数据选择和切片" tabindex="-1">数据选择和切片 <a class="header-anchor" href="#数据选择和切片" aria-label="Permalink to &quot;数据选择和切片&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df[column_name]</td><td>选择指定的列；</td></tr><tr><td>df.loc[row_index, column_name]</td><td>通过标签选择数据；</td></tr><tr><td>df.iloc[row_index, column_index]</td><td>通过位置选择数据；</td></tr><tr><td>df.ix[row_index, column_name]</td><td>通过标签或位置选择数据；</td></tr><tr><td>df.filter(items=[column_name1, column_name2])</td><td>选择指定的列；</td></tr><tr><td>df.filter(regex=&#39;regex&#39;)</td><td>选择列名匹配正则表达式的列；</td></tr><tr><td>df.sample(n)</td><td>随机选择 n 行数据。</td></tr></tbody></table><h2 id="实例-46" tabindex="-1">实例 <a class="header-anchor" href="#实例-46" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p># 选择指定的列 df[&#39;column_name&#39;]</p><p># 通过标签选择数据 df.loc[row_index, column_name]</p><p># 通过位置选择数据 df.iloc[row_index, column_index]</p><p># 通过标签或位置选择数据 df.ix[row_index, column_name]</p><p># 选择指定的列 df.filter(items=[&#39;column_name1&#39;, &#39;column_name2&#39;])</p><p># 选择列名匹配正则表达式的列 df.filter(regex=&#39;regex&#39;)</p><p># 随机选择 n 行数据 df.sample(n=5)</p><hr><h2 id="数据排序" tabindex="-1">数据排序 <a class="header-anchor" href="#数据排序" aria-label="Permalink to &quot;数据排序&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df.sort_values(column_name)</td><td>按照指定列的值排序；</td></tr><tr><td>df.sort_values([column_name1, column_name2], ascending=[True, False])</td><td>按照多个列的值排序；</td></tr><tr><td>df.sort_index()</td><td>按照索引排序。</td></tr></tbody></table><h2 id="实例-47" tabindex="-1">实例 <a class="header-anchor" href="#实例-47" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p># 按照指定列的值排序 df.sort_values(&#39;column_name&#39;)</p><p># 按照多个列的值排序 df.sort_values([&#39;column_name1&#39;, &#39;column_name2&#39;], ascending=[True, False])</p><p># 按照索引排序 df.sort_index()</p><hr><h2 id="数据分组和聚合" tabindex="-1">数据分组和聚合 <a class="header-anchor" href="#数据分组和聚合" aria-label="Permalink to &quot;数据分组和聚合&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df.groupby(column_name)</td><td>按照指定列进行分组；</td></tr><tr><td>df.aggregate(function_name)</td><td>对分组后的数据进行聚合操作；</td></tr><tr><td>df.pivot_table(values, index, columns, aggfunc)</td><td>生成透视表。</td></tr></tbody></table><h2 id="实例-48" tabindex="-1">实例 <a class="header-anchor" href="#实例-48" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p># 按照指定列进行分组 df.groupby(&#39;column_name&#39;)</p><p># 对分组后的数据进行聚合操作 df.aggregate(&#39;function_name&#39;)</p><p># 生成透视表 df.pivot_table(values=&#39;value&#39;, index=&#39;index_column&#39;, columns=&#39;column_name&#39;, aggfunc=&#39;function_name&#39;)</p><hr><h2 id="数据合并" tabindex="-1">数据合并 <a class="header-anchor" href="#数据合并" aria-label="Permalink to &quot;数据合并&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>pd.concat([df1, df2])</td><td>将多个数据框按照行或列进行合并；</td></tr><tr><td>pd.merge(df1, df2, on=column_name)</td><td>按照指定列将两个数据框进行合并。</td></tr></tbody></table><h2 id="实例-49" tabindex="-1">实例 <a class="header-anchor" href="#实例-49" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p># 将多个数据框按照行或列进行合并 df = pd.concat([df1, df2])</p><p># 按照指定列将两个数据框进行合并 df = pd.merge(df1, df2, on=&#39;column_name&#39;)</p><hr><h2 id="数据选择和过滤" tabindex="-1">数据选择和过滤 <a class="header-anchor" href="#数据选择和过滤" aria-label="Permalink to &quot;数据选择和过滤&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df.loc[row_indexer, column_indexer]</td><td>按标签选择行和列。</td></tr><tr><td>df.iloc[row_indexer, column_indexer]</td><td>按位置选择行和列。</td></tr><tr><td>df[df[&#39;column_name&#39;] &gt; value]</td><td>选择列中满足条件的行。</td></tr><tr><td>df.query(&#39;column_name &gt; value&#39;)</td><td>使用字符串表达式选择列中满足条件的行。</td></tr></tbody></table><hr><h2 id="数据统计和描述" tabindex="-1">数据统计和描述 <a class="header-anchor" href="#数据统计和描述" aria-label="Permalink to &quot;数据统计和描述&quot;">​</a></h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>df.describe()</td><td>计算基本统计信息，如均值、标准差、最小值、最大值等。</td></tr><tr><td>df.mean()</td><td>计算每列的平均值。</td></tr><tr><td>df.median()</td><td>计算每列的中位数。</td></tr><tr><td>df.mode()</td><td>计算每列的众数。</td></tr><tr><td>df.count()</td><td>计算每列非缺失值的数量。</td></tr></tbody></table><hr><h2 id="实例-50" tabindex="-1">实例 <a class="header-anchor" href="#实例-50" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p>假设我们有如下的 JSON 数据，数据保存到 data.json 文件：</p><h2 id="data-json-文件" tabindex="-1">data.json 文件 <a class="header-anchor" href="#data-json-文件" aria-label="Permalink to &quot;data.json 文件&quot;">​</a></h2><p>[ { &quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 25, &quot;gender&quot;: &quot;female&quot;, &quot;score&quot;: 80 }, { &quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: <strong>null</strong>, &quot;gender&quot;: &quot;male&quot;, &quot;score&quot;: 90 }, { &quot;name&quot;: &quot;Charlie&quot;, &quot;age&quot;: 30, &quot;gender&quot;: &quot;male&quot;, &quot;score&quot;: <strong>null</strong> }, { &quot;name&quot;: &quot;David&quot;, &quot;age&quot;: 35, &quot;gender&quot;: &quot;male&quot;, &quot;score&quot;: 70 } ]</p><p>我们可以使用 Pandas 读取 JSON 数据，并进行数据清洗和处理、数据选择和过滤、数据统计和描述等操作，具体如下：</p><h2 id="实例-51" tabindex="-1">实例 <a class="header-anchor" href="#实例-51" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 读取 JSON 数据 df = pd.read_json(&#39;data.json&#39;)</p><p># 删除缺失值 df = df.dropna()</p><p># 用指定的值填充缺失值 df = df.fillna({&#39;age&#39;: 0, &#39;score&#39;: 0})</p><p># 重命名列名 df = df.rename(columns={&#39;name&#39;: &#39;姓名&#39;, &#39;age&#39;: &#39;年龄&#39;, &#39;gender&#39;: &#39;性别&#39;, &#39;score&#39;: &#39;成绩&#39;})</p><p># 按成绩排序 df = df.sort_values(by=&#39;成绩&#39;, ascending=False)</p><p># 按性别分组并计算平均年龄和成绩 grouped = df.groupby(&#39;性别&#39;).agg({&#39;年龄&#39;: &#39;mean&#39;, &#39;成绩&#39;: &#39;mean&#39;})</p><p># 选择成绩大于等于90的行，并只保留姓名和成绩两列 df = df.loc[df[&#39;成绩&#39;] &gt;= 90, [&#39;姓名&#39;, &#39;成绩&#39;]]</p><p># 计算每列的基本统计信息 stats = df.describe()</p><p># 计算每列的平均值 mean = df.mean()</p><p># 计算每列的中位数 median = df.median()</p><p># 计算每列的众数 mode = df.mode()</p><p># 计算每列非缺失值的数量 count = df.count()</p><p>输出结果如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># df</span></span>
<span class="line"><span>   姓名  年龄 性别  成绩</span></span>
<span class="line"><span>1  Bob   0  male  90</span></span>
<span class="line"><span></span></span>
<span class="line"><span># grouped</span></span>
<span class="line"><span>             年龄  成绩</span></span>
<span class="line"><span>性别                </span></span>
<span class="line"><span>female  25.000000  80</span></span>
<span class="line"><span>male    27.500000  80</span></span>
<span class="line"><span></span></span>
<span class="line"><span># stats</span></span>
<span class="line"><span>         成绩</span></span>
<span class="line"><span>count   1.0</span></span>
<span class="line"><span>mean   90.0</span></span>
<span class="line"><span>std     NaN</span></span>
<span class="line"><span>min    90.0</span></span>
<span class="line"><span>25%    90.0</span></span>
<span class="line"><span>50%    90.0</span></span>
<span class="line"><span>75%    90.0</span></span>
<span class="line"><span>max    90.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mean</span></span>
<span class="line"><span>成绩    90.0</span></span>
<span class="line"><span>dtype: float64</span></span>
<span class="line"><span></span></span>
<span class="line"><span># median</span></span>
<span class="line"><span>成绩    90.0</span></span>
<span class="line"><span>dtype: float64</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mode</span></span>
<span class="line"><span>    姓名    成绩</span></span>
<span class="line"><span>0  Bob  90.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span># count</span></span>
<span class="line"><span>姓名    1</span></span>
<span class="line"><span>成绩    1</span></span>
<span class="line"><span>dtype: int64</span></span></code></pre></div><h1 id="pandas-相关性分析" tabindex="-1">Pandas 相关性分析 <a class="header-anchor" href="#pandas-相关性分析" aria-label="Permalink to &quot;Pandas 相关性分析&quot;">​</a></h1><p>在 Pandas 中，数据相关性分析是通过计算不同变量之间的相关系数来了解它们之间的关系。</p><p>在 Pandas 中，数据相关性是一项重要的分析任务，它帮助我们理解数据中各个变量之间的关系。</p><p>Pandas 使用 corr() 方法计算数据集中每列之间的关系。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>df.corr(method=&#39;pearson&#39;, min_periods=1)</span></span></code></pre></div><ul><li><strong>method</strong> (可选): 字符串类型，用于指定计算相关系数的方法。默认是 &#39;pearson&#39;，还可以选择 &#39;kendall&#39;（Kendall Tau 相关系数）或 &#39;spearman&#39;（Spearman 秩相关系数）。</li><li><strong>min_periods</strong> (可选): 表示计算相关系数时所需的最小观测值数量。默认值是 1，即只要有至少一个非空值，就会进行计算。如果指定了 <code>min_periods</code>，并且在某些列中的非空值数量小于该值，则相应列的相关系数将被设为 NaN。</li></ul><p>df.corr() 方法返回一个相关系数矩阵，矩阵的行和列对应数据框的列名，矩阵的元素是对应列之间的相关系数。</p><p>常见的相关性系数包括 Pearson 相关系数和 Spearman 秩相关系数：</p><ul><li><strong>Pearson 相关系数:</strong> 即皮尔逊相关系数，用于衡量了两个变量之间的线性关系强度和方向。它的取值范围在 -1 到 1 之间，其中 -1 表示完全负相关，1 表示完全正相关，0 表示无线性相关。可以使用 corr() 方法计算数据框中各列之间的 Pearson 相关系数。</li><li>**Spearman 相关系数：**即斯皮尔曼相关系数，是一种秩相关系数。用于衡量两个变量之间的单调关系，即不一定是线性关系。它通过比较变量的秩次来计算相关性。可以使用 corr(method=&#39;spearman&#39;) 方法计算数据框中各列之间的 Spearman 相关系数。</li></ul><p><strong>Pearson 相关系数</strong></p><h2 id="实例-52" tabindex="-1">实例 <a class="header-anchor" href="#实例-52" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 创建一个示例数据框 data = {&#39;A&#39;: [1, 2, 3, 4, 5], &#39;B&#39;: [5, 4, 3, 2, 1]} df = pd.DataFrame(data)</p><p># 计算 Pearson 相关系数 correlation_matrix = df.corr() <strong>print</strong>(correlation_matrix)</p><p>输出结果：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     A    B</span></span>
<span class="line"><span>A  1.0 -1.0</span></span>
<span class="line"><span>B -1.0  1.0</span></span></code></pre></div><p><strong>说明</strong>：由于数据集是线性相关的，因此 Pearson 相关系数矩阵对角线上的值为 1，而非对角线上的值为 -1 表示完全负相关。</p><p><strong>Spearman 秩相关系数</strong></p><h2 id="实例-53" tabindex="-1">实例 <a class="header-anchor" href="#实例-53" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> pandas <strong>as</strong> pd</p><p># 创建一个示例数据框 data = {&#39;A&#39;: [1, 2, 3, 4, 5], &#39;B&#39;: [5, 4, 3, 2, 1]} df = pd.DataFrame(data)</p><p># 计算 Spearman 相关系数 spearman_correlation_matrix = df.corr(method=&#39;spearman&#39;) <strong>print</strong>(spearman_correlation_matrix)</p><p>输出结果：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>     A    B</span></span>
<span class="line"><span>A  1.0 -1.0</span></span>
<span class="line"><span>B -1.0  1.0</span></span></code></pre></div><p>**说明：**Spearman 相关系数矩阵的结果与 Pearson 相关系数矩阵相同，因为这两个变量之间是完全的单调负相关。</p><p><strong>可视化相关性</strong></p><p>这里我们要使用 Python 的 Seaborn 库， Seaborn 是一个基于 Matplotlib 的数据可视化库，专注于统计图形的绘制，旨在简化数据可视化的过程。</p><p>Seaborn 提供了一些简单的高级接口，可以轻松地绘制各种统计图形，包括散点图、折线图、柱状图、热图等，而且具有良好的美学效果。</p><p>安装 Seaborn：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pip install seaborn</span></span></code></pre></div><h2 id="实例-54" tabindex="-1">实例 <a class="header-anchor" href="#实例-54" aria-label="Permalink to &quot;实例&quot;">​</a></h2><p><strong>import</strong> seaborn <strong>as</strong> sns <strong>import</strong> matplotlib.pyplot <strong>as</strong> plt <strong>import</strong> pandas <strong>as</strong> pd</p><p># 创建一个示例数据框 data = {&#39;A&#39;: [1, 2, 3, 4, 5], &#39;B&#39;: [5, 4, 3, 2, 1]} df = pd.DataFrame(data)</p><p># 计算 Pearson 相关系数 correlation_matrix = df.corr() # 使用热图可视化 Pearson 相关系数 sns.heatmap(correlation_matrix, annot=True, cmap=&#39;coolwarm&#39;, fmt=&quot;.2f&quot;) plt.show()</p><p>**说明：**这段代码将生成一个热图，用颜色表示相关系数的强度，其中正相关用温暖色调表示，负相关用冷色调表示。<strong>annot=True</strong> 参数在热图上显示具体的数值。</p><p><img src="/assets/38fa14c44f0cc4f315a3dd4d5597d2b1_w.CybwXkvA.png" alt="img"></p><p><strong>选择相关性阈值</strong></p></div></div></main><footer class="VPDocFooter" data-v-532ee90d data-v-303e5403><!--[--><!--]--><!----><nav class="prev-next" data-v-303e5403><div class="pager" data-v-303e5403><a class="VPLink link pager-link prev" href="/Python-datav/numpy.html" data-v-303e5403><!--[--><span class="desc" data-v-303e5403>Previous page</span><span class="title" data-v-303e5403>numpy教程</span><!--]--></a></div><div class="pager" data-v-303e5403><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-730d874e data-v-8177390d><div class="container" data-v-8177390d><!----><p class="copyright" data-v-8177390d>Copyright@ 2024 Brother Tui</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"python-class.md\":\"C0ykSN2m\",\"python-datav_matplotlib.md\":\"CrkdlB7L\",\"python_18.md\":\"5N_pRYrJ\",\"python_2.md\":\"JEk8bxS6\",\"python_24.md\":\"BUwjvlgv\",\"python-db_index.md\":\"BMbwdwhj\",\"python_26.md\":\"B_SD8A3I\",\"python-db_sqlite.md\":\"dDbdw_01\",\"python_14.md\":\"slnhIjWa\",\"python_17.md\":\"2n7HbAmU\",\"python_3.md\":\"Cveynr-Y\",\"python-db_python sqlalchemy.md\":\"CZUfqbuZ\",\"python_6.md\":\"DMZ1ysKF\",\"python-datav_index.md\":\"BLIqJ21P\",\"python_4.md\":\"dX6_l4ci\",\"python_1.md\":\"D59BM-8k\",\"python_20.md\":\"CEcyjoxz\",\"python-demo_login2.md\":\"BUZzwqZY\",\"python_23.md\":\"DdgqngIG\",\"python_31.md\":\"CsZKSGe-\",\"python-datav_echarts.md\":\"BpFaeFhk\",\"python_21.md\":\"D6-arcQ3\",\"python_10.md\":\"DSRMq5QV\",\"python-db_redis 数据库介绍.md\":\"C8OKjH9U\",\"python-db_mongodb.md\":\"DWvRy7se\",\"python_index.md\":\"CCnSn0qZ\",\"python_27.md\":\"BOaf9jHW\",\"python_5.md\":\"EKG7RqYt\",\"python-demo_login11.md\":\"CAxtmouT\",\"python_8.md\":\"7QUGhKV6\",\"python_16.md\":\"CHTygdN9\",\"python_28.md\":\"B9cjjjdl\",\"python-demo_cmdb5.md\":\"C0ZAYowI\",\"python_29.md\":\"DEZjGUXz\",\"python-demo_cmdb3.md\":\"C1fEkMJx\",\"python-db_python 操作 mysql.md\":\"ht_KtA3b\",\"python_12.md\":\"BpCFoWgw\",\"docs_bug.md\":\"DuMbWero\",\"hms-class.md\":\"DFmf62R3\",\"python_7.md\":\"DXhMX98a\",\"python_11.md\":\"D3N-qCSW\",\"python_19.md\":\"CMRm0rwe\",\"python-demo_cmdb9.md\":\"B5QAlC5j\",\"python-demo_cmdb11.md\":\"CzsB6yQ6\",\"python_13.md\":\"DiaU2Sp3\",\"python-demo_login1.md\":\"isDSTDd_\",\"python_25.md\":\"ClTK6Eyj\",\"python-demo_login8.md\":\"Cp6tsdmb\",\"python-demo_login10.md\":\"rnsv58c1\",\"public_zbq-main_readme.md\":\"Dyqy_HvE\",\"python_15.md\":\"D6yHiJeS\",\"python-demo_cmdb6.md\":\"pphrSWIG\",\"python-demo_cmdb4.md\":\"BSlzf9OQ\",\"python-demo_cmdb12.md\":\"DQzLq5Qx\",\"python-demo_login6.md\":\"BVf2Irz8\",\"python_30.md\":\"BeX6188J\",\"python-demo_cmdb2.md\":\"CwTdHLbW\",\"python_22.md\":\"Dv0zaTxi\",\"python-demo_cmdb8.md\":\"BFq2LTUr\",\"python-demo_login3.md\":\"DfvF8p5G\",\"新建 markdown file.md\":\"DuLHS9LI\",\"index.md\":\"BXSz9xXC\",\"python_32.md\":\"BtfCoB5x\",\"python-demo_懂车帝可视化.md\":\"DJCg-jm4\",\"python-demo_资产管理系统.md\":\"ah1-H-O7\",\"python-demo_基于django2.2的注册登录管理系统.md\":\"uMsB9HpH\",\"project-class.md\":\"DWbgtkrk\",\"python-demo_login9.md\":\"Bty49Z_S\",\"python-demo_cmdb1.md\":\"CChP6W2K\",\"python-demo_login5.md\":\"C7XHXmI5\",\"python-datav_pandas.md\":\"DXCK3Rhp\",\"python-demo_cmdb7.md\":\"DypjwYi8\",\"python-demo_login7.md\":\"0HeZHLSg\",\"python-demo_login4.md\":\"BYFh-ceh\",\"python_9.md\":\"C2LG6Q2x\",\"python-demo_login12.md\":\"DLn4ciB1\",\"python-demo_cmdb10.md\":\"8MCAMO00\",\"python-datav_numpy.md\":\"CWG0x577\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"wildfire - 腿哥AI站\",\"description\":\"站点描述\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"python\",\"items\":[{\"text\":\"python基础\",\"link\":\"/Python/index\"},{\"text\":\"python数据库操作\",\"link\":\"/Python-db/index\"},{\"text\":\"python数据分析可视化\",\"link\":\"/Python-datav/index\"}]},{\"text\":\"鸿蒙\",\"items\":[{\"text\":\"文档\",\"link\":\"/hms\"}]},{\"text\":\"全栈项目\",\"items\":[{\"text\":\"登录注册系统\",\"link\":\"/python-demo/基于Django2.2的注册登录管理系统\"},{\"text\":\"资产管理系统\",\"link\":\"/python-demo/资产管理系统\"},{\"text\":\"懂车帝可视化\",\"link\":\"/python-demo/懂车帝可视化\"}]},{\"text\":\"报错汇总\",\"items\":[{\"text\":\"常见问题\",\"link\":\"/docs/bug\"}]}],\"sidebar\":{\"/Python/\":[{\"text\":\"Python入门\",\"collapsed\":false,\"items\":[{\"text\":\"Python是什么\",\"link\":\"/Python/1\"},{\"text\":\"在 Windows 和 Linux 上安装 Python\",\"link\":\"/Python/2\"},{\"text\":\"Python 语法\",\"link\":\"/Python/3\"},{\"text\":\"Python 关键字\",\"link\":\"/Python/4\"},{\"text\":\"Python 数据类型\",\"link\":\"/Python/5\"},{\"text\":\"Python 数字类型：整数、浮点数、复数\",\"link\":\"/Python/6\"},{\"text\":\"Python 字符串\",\"link\":\"/Python/7\"},{\"text\":\"Python 列表\",\"link\":\"/Python/8\"},{\"text\":\"Python 元组\",\"link\":\"/Python/9\"},{\"text\":\"Python 集合\",\"link\":\"/Python/10\"},{\"text\":\"Python 字典\",\"link\":\"/Python/11\"},{\"text\":\"Python if、elif、else条件\",\"link\":\"/Python/12\"},{\"text\":\"Python while循环\",\"link\":\"/Python/13\"},{\"text\":\"Python for循环\",\"link\":\"/Python/14\"}]},{\"text\":\"Python函数与面向对象\",\"collapsed\":false,\"items\":[{\"text\":\"Python 函数\",\"link\":\"/Python/15\"},{\"text\":\"Python 中的 Lambda 函数和匿名函数\",\"link\":\"/Python/16\"},{\"text\":\"Python 中的变量作用域\",\"link\":\"/Python/17\"},{\"text\":\"Python 中的__main__和__name__\",\"link\":\"/Python/18\"},{\"text\":\"Python 生成器函数\",\"link\":\"/Python/19\"},{\"text\":\"Python 列表推导\",\"link\":\"/Python/20\"},{\"text\":\"Python 中的递归\",\"link\":\"/Python/21\"},{\"text\":\"Python 错误类型\",\"link\":\"/Python/22\"},{\"text\":\"Python 中的异常处理\",\"link\":\"/Python/23\"},{\"text\":\"Python assert语句\",\"link\":\"/Python/24\"},{\"text\":\"Python 类\",\"link\":\"/Python/25\"},{\"text\":\"Python 中的继承\",\"link\":\"/Python/26\"},{\"text\":\"Python 公共、受保护、私有成员\",\"link\":\"/Python/27\"},{\"text\":\"Python 中的装饰器\",\"link\":\"/Python/28\"},{\"text\":\"Python 属性装饰器——@property\",\"link\":\"/Python/29\"},{\"text\":\"Python 类方法装饰器@classmethod\",\"link\":\"/Python/30\"},{\"text\":\"Python 中使用@staticmethod装饰器定义静态方法\",\"link\":\"/Python/31\"},{\"text\":\"Python 魔术方法\",\"link\":\"/Python/32\"}]}],\"/Python-db/\":[{\"text\":\"Python数据库操作\",\"collapsed\":false,\"items\":[{\"text\":\"SQLAlchemy\",\"link\":\"/Python-db/Python SQLAlchemy\"},{\"text\":\"MySQL\",\"link\":\"/Python-db/Python 操作 MySQL\"},{\"text\":\"Redis\",\"link\":\"/Python-db/Redis 数据库介绍\"},{\"text\":\"SQLite\",\"link\":\"/Python-db/SQLite\"},{\"text\":\"Mongodb\",\"link\":\"/Python-db/MongoDB\"}]}],\"/Python-datav\":[{\"text\":\"python数据分析基础\",\"collapsed\":false,\"items\":[{\"text\":\"numpy教程\",\"link\":\"/Python-datav/numpy\"},{\"text\":\"pandas教程\",\"link\":\"/Python-datav/pandas\"}]}],\"/python-demo/\":[{\"text\":\"登录注册系统\",\"collapsed\":false,\"items\":[{\"text\":\"说明\",\"link\":\"/python-demo/基于Django2.2的注册登录管理系统\"},{\"text\":\"1. 搭建项目环境\",\"link\":\"/python-demo/login1\"},{\"text\":\"2. 设计数据模型\",\"link\":\"/python-demo/login2\"},{\"text\":\"3. admin后台\",\"link\":\"/python-demo/login3\"},{\"text\":\"4. url路由和视图\",\"link\":\"/python-demo/login4\"},{\"text\":\"5. 前端页面设计\",\"link\":\"/python-demo/login5\"},{\"text\":\"6. 登录视图\",\"link\":\"/python-demo/login6\"},{\"text\":\"7. Django表单\",\"link\":\"/python-demo/login7\"},{\"text\":\"8. 图片验证码\",\"link\":\"/python-demo/login8\"},{\"text\":\"9. session会话\",\"link\":\"/python-demo/login9\"},{\"text\":\"10. 注册视图\",\"link\":\"/python-demo/login10\"},{\"text\":\"11.Django发送邮件\",\"link\":\"/python-demo/login11\"},{\"text\":\"12. 邮件注册确认\",\"link\":\"/python-demo/login12\"}]},{\"text\":\"资产管理系统\",\"collapsed\":false,\"items\":[{\"text\":\"1.项目需求分析\",\"link\":\"/python-demo/CMDB1\"},{\"text\":\"2.模型设计\",\"link\":\"/python-demo/CMDB2\"},{\"text\":\"3.数据收集客户端\",\"link\":\"/python-demo/CMDB3\"},{\"text\":\"4.收集Windows数据\",\"link\":\"/python-demo/CMDB4\"},{\"text\":\"5.Linux下收集数据\",\"link\":\"/python-demo/CMDB5\"},{\"text\":\"6.新资产待审批区\",\"link\":\"/python-demo/CMDB6\"},{\"text\":\"7.审批新资产\",\"link\":\"/python-demo/CMDB7\"},{\"text\":\"8.已上线资产更新\",\"link\":\"/python-demo/CMDB8\"},{\"text\":\"9.前端框架AdminLTE\",\"link\":\"/python-demo/CMDB9\"},{\"text\":\"10.资产总表\",\"link\":\"/python-demo/CMDB10\"},{\"text\":\"11.资产详细页面\",\"link\":\"/python-demo/CMDB11\"},{\"text\":\"12.dashboard仪表盘\",\"link\":\"/python-demo/CMDB12\"}]},{\"text\":\"懂车帝可视化\",\"collapsed\":false,\"items\":[]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/stormblinger-ai\"}],\"footer\":{\"copyright\":\"Copyright@ 2024 Brother Tui\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>